{
    "sourceFile": "src/renderer/src/components/Search/SearchFile.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 82,
            "patches": [
                {
                    "date": 1666160968450,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1666161144448,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,10 @@\n-export const SearchFile = () => {\n+import { IFileList } from \"src/preload/index.d\"\n+\n+interface ISearchFile {\n+    fileList:IFileList\n+}\n+export const SearchFile = ({fileList}) => {\n   return (\n     <div className=\"search-file\">\n       <div>\n         <input type=\"text\" />\n"
                },
                {
                    "date": 1666161193986,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,13 @@\n-import { IFileList } from \"src/preload/index.d\"\n+import { IFileList } from 'src/preload/index.d'\n \n interface ISearchFile {\n-    fileList:IFileList\n+  fileList: IFileList\n }\n-export const SearchFile = ({fileList}) => {\n+export const SearchFile: React.FC<ISearchFile> = ({ fileList }) => {\n+  const files = fileList.map((file) => {\n+    return <li>{file.fileName}</li>\n+  })\n   return (\n     <div className=\"search-file\">\n       <div>\n         <input type=\"text\" />\n"
                },
                {
                    "date": 1666161200921,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,8 +11,8 @@\n     <div className=\"search-file\">\n       <div>\n         <input type=\"text\" />\n       </div>\n-      <ul></ul>\n+      <ul>{files}</ul>\n     </div>\n   )\n }\n"
                },
                {
                    "date": 1666161356837,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,5 @@\n+import { useEffect } from 'react'\n import { IFileList } from 'src/preload/index.d'\n \n interface ISearchFile {\n   fileList: IFileList\n@@ -6,8 +7,16 @@\n export const SearchFile: React.FC<ISearchFile> = ({ fileList }) => {\n   const files = fileList.map((file) => {\n     return <li>{file.fileName}</li>\n   })\n+  useEffect(()=>{\n+\n+    const hanldeKeyDown = (e) =>{\n+        console.log(e)\n+    }\n+    document.addEventListener('keydown',hanldeKeyDown)\n+    return document.removeEventListener('keydown',hanldeKeyDown)\n+  },[])\n   return (\n     <div className=\"search-file\">\n       <div>\n         <input type=\"text\" />\n"
                },
                {
                    "date": 1666161371831,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,16 +7,15 @@\n export const SearchFile: React.FC<ISearchFile> = ({ fileList }) => {\n   const files = fileList.map((file) => {\n     return <li>{file.fileName}</li>\n   })\n-  useEffect(()=>{\n-\n-    const hanldeKeyDown = (e) =>{\n-        console.log(e)\n+  useEffect(() => {\n+    const hanldeKeyDown = (e:KeyboardEvent) => {\n+      console.log(e)\n     }\n-    document.addEventListener('keydown',hanldeKeyDown)\n-    return document.removeEventListener('keydown',hanldeKeyDown)\n-  },[])\n+    document.addEventListener('keydown', hanldeKeyDown)\n+    return document.removeEventListener('keydown', hanldeKeyDown)\n+  }, [])\n   return (\n     <div className=\"search-file\">\n       <div>\n         <input type=\"text\" />\n"
                },
                {
                    "date": 1666161933425,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n   fileList: IFileList\n }\n export const SearchFile: React.FC<ISearchFile> = ({ fileList }) => {\n   const files = fileList.map((file) => {\n-    return <li>{file.fileName}</li>\n+    return <li key={file.filePath}><span>{file.fileName}</span></li>\n   })\n   useEffect(() => {\n     const hanldeKeyDown = (e:KeyboardEvent) => {\n       console.log(e)\n"
                },
                {
                    "date": 1666161953544,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,9 +12,11 @@\n     const hanldeKeyDown = (e:KeyboardEvent) => {\n       console.log(e)\n     }\n     document.addEventListener('keydown', hanldeKeyDown)\n-    return document.removeEventListener('keydown', hanldeKeyDown)\n+    return ()=>{\n+        document.removeEventListener('keydown', hanldeKeyDown)\n+    }\n   }, [])\n   return (\n     <div className=\"search-file\">\n       <div>\n"
                },
                {
                    "date": 1666162183545,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,8 +9,13 @@\n     return <li key={file.filePath}><span>{file.fileName}</span></li>\n   })\n   useEffect(() => {\n     const hanldeKeyDown = (e:KeyboardEvent) => {\n+      if(e.code==='ArrowUp') {}\n+      if(e.code===\"ArrowDown\"){}\n+      if(e.code==='KeyP' && e.metaKey) {\n+        document.querySelector('.search-file')?.classList.toggle('.search-file-close')\n+      }\n       console.log(e)\n     }\n     document.addEventListener('keydown', hanldeKeyDown)\n     return ()=>{\n"
                },
                {
                    "date": 1666162211592,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,8 +12,9 @@\n     const hanldeKeyDown = (e:KeyboardEvent) => {\n       if(e.code==='ArrowUp') {}\n       if(e.code===\"ArrowDown\"){}\n       if(e.code==='KeyP' && e.metaKey) {\n+        console.log('commend + P')\n         document.querySelector('.search-file')?.classList.toggle('.search-file-close')\n       }\n       console.log(e)\n     }\n"
                },
                {
                    "date": 1666162228822,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,9 @@\n       if(e.code==='ArrowUp') {}\n       if(e.code===\"ArrowDown\"){}\n       if(e.code==='KeyP' && e.metaKey) {\n         console.log('commend + P')\n-        document.querySelector('.search-file')?.classList.toggle('.search-file-close')\n+        document.querySelector('.search-file')?.classList.toggle('search-file-close')\n       }\n       console.log(e)\n     }\n     document.addEventListener('keydown', hanldeKeyDown)\n"
                },
                {
                    "date": 1666162263202,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,23 +7,23 @@\n export const SearchFile: React.FC<ISearchFile> = ({ fileList }) => {\n   const files = fileList.map((file) => {\n     return <li key={file.filePath}><span>{file.fileName}</span></li>\n   })\n-  useEffect(() => {\n-    const hanldeKeyDown = (e:KeyboardEvent) => {\n-      if(e.code==='ArrowUp') {}\n-      if(e.code===\"ArrowDown\"){}\n-      if(e.code==='KeyP' && e.metaKey) {\n-        console.log('commend + P')\n-        document.querySelector('.search-file')?.classList.toggle('search-file-close')\n-      }\n-      console.log(e)\n-    }\n-    document.addEventListener('keydown', hanldeKeyDown)\n-    return ()=>{\n-        document.removeEventListener('keydown', hanldeKeyDown)\n-    }\n-  }, [])\n+//   useEffect(() => {\n+//     const hanldeKeyDown = (e:KeyboardEvent) => {\n+//       if(e.code==='ArrowUp') {}\n+//       if(e.code===\"ArrowDown\"){}\n+//       if(e.code==='KeyP' && e.metaKey) {\n+//         console.log('commend + P')\n+//         document.querySelector('.search-file')?.classList.toggle('search-file-close')\n+//       }\n+//       console.log(e)\n+//     }\n+//     document.addEventListener('keydown', hanldeKeyDown)\n+//     return ()=>{\n+//         document.removeEventListener('keydown', hanldeKeyDown)\n+//     }\n+//   }, [])\n   return (\n     <div className=\"search-file\">\n       <div>\n         <input type=\"text\" />\n"
                },
                {
                    "date": 1666163352691,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import { useEffect } from 'react'\n+\n import { IFileList } from 'src/preload/index.d'\n \n interface ISearchFile {\n   fileList: IFileList\n@@ -7,23 +7,8 @@\n export const SearchFile: React.FC<ISearchFile> = ({ fileList }) => {\n   const files = fileList.map((file) => {\n     return <li key={file.filePath}><span>{file.fileName}</span></li>\n   })\n-//   useEffect(() => {\n-//     const hanldeKeyDown = (e:KeyboardEvent) => {\n-//       if(e.code==='ArrowUp') {}\n-//       if(e.code===\"ArrowDown\"){}\n-//       if(e.code==='KeyP' && e.metaKey) {\n-//         console.log('commend + P')\n-//         document.querySelector('.search-file')?.classList.toggle('search-file-close')\n-//       }\n-//       console.log(e)\n-//     }\n-//     document.addEventListener('keydown', hanldeKeyDown)\n-//     return ()=>{\n-//         document.removeEventListener('keydown', hanldeKeyDown)\n-//     }\n-//   }, [])\n   return (\n     <div className=\"search-file\">\n       <div>\n         <input type=\"text\" />\n"
                },
                {
                    "date": 1666190589786,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,16 +1,19 @@\n-\n import { IFileList } from 'src/preload/index.d'\n \n interface ISearchFile {\n   fileList: IFileList\n }\n export const SearchFile: React.FC<ISearchFile> = ({ fileList }) => {\n   const files = fileList.map((file) => {\n-    return <li key={file.filePath}><span>{file.fileName}</span></li>\n+    return (\n+      <li key={file.filePath}>\n+        <span>{file.fileName}</span>\n+      </li>\n+    )\n   })\n   return (\n-    <div className=\"search-file\">\n+    <div className=\"search-file search-file-close\">\n       <div>\n         <input type=\"text\" />\n       </div>\n       <ul>{files}</ul>\n"
                },
                {
                    "date": 1666338772361,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,5 @@\n+import { useEffect, useState } from 'react'\n import { IFileList } from 'src/preload/index.d'\n \n interface ISearchFile {\n   fileList: IFileList\n@@ -10,8 +11,18 @@\n         <span>{file.fileName}</span>\n       </li>\n     )\n   })\n+  const hanleSelect = (e:KeyboardEvent) =>{\n+    const files = document.querySelector('.search-file ul li')\n+    console.log(files)\n+\n+  }\n+  useEffect(()=>{\n+\n+    document.addEventListener('keydown',hanleSelect)\n+    return () => document.removeEventListener('keydown',hanleSelect)\n+  },[])\n   return (\n     <div className=\"search-file search-file-close\">\n       <div>\n         <input type=\"text\" />\n"
                },
                {
                    "date": 1666338794431,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import { useEffect, useState } from 'react'\n+import { useEffect} from 'react'\n import { IFileList } from 'src/preload/index.d'\n \n interface ISearchFile {\n   fileList: IFileList\n"
                },
                {
                    "date": 1666338814477,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,13 +16,13 @@\n     const files = document.querySelector('.search-file ul li')\n     console.log(files)\n \n   }\n-  useEffect(()=>{\n+  // useEffect(()=>{\n \n-    document.addEventListener('keydown',hanleSelect)\n-    return () => document.removeEventListener('keydown',hanleSelect)\n-  },[])\n+  //   document.addEventListener('keydown',hanleSelect)\n+  //   return () => document.removeEventListener('keydown',hanleSelect)\n+  // },[])\n   return (\n     <div className=\"search-file search-file-close\">\n       <div>\n         <input type=\"text\" />\n"
                },
                {
                    "date": 1666338830226,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,13 +16,13 @@\n     const files = document.querySelector('.search-file ul li')\n     console.log(files)\n \n   }\n-  // useEffect(()=>{\n+  useEffect(()=>{\n \n-  //   document.addEventListener('keydown',hanleSelect)\n-  //   return () => document.removeEventListener('keydown',hanleSelect)\n-  // },[])\n+    document.addEventListener('keydown',hanleSelect)\n+    return () => document.removeEventListener('keydown',hanleSelect)\n+  },[])\n   return (\n     <div className=\"search-file search-file-close\">\n       <div>\n         <input type=\"text\" />\n"
                },
                {
                    "date": 1666339302486,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,28 +1,38 @@\n-import { useEffect} from 'react'\n+import { useEffect, useState } from 'react'\n import { IFileList } from 'src/preload/index.d'\n \n interface ISearchFile {\n   fileList: IFileList\n }\n export const SearchFile: React.FC<ISearchFile> = ({ fileList }) => {\n-  const files = fileList.map((file) => {\n+  const [active, setActiveFile] = useState(0)\n+  const files = fileList.map((file, index) => {\n     return (\n-      <li key={file.filePath}>\n+      <li key={file.filePath} className={index === 0 ? 'active' : ''}>\n         <span>{file.fileName}</span>\n       </li>\n     )\n   })\n-  const hanleSelect = (e:KeyboardEvent) =>{\n-    const files = document.querySelector('.search-file ul li')\n-    console.log(files)\n-\n+  const hanleSelect = (e: KeyboardEvent) => {\n+    const files = document.querySelectorAll<HTMLElement>('.search-file ul li') \n+    if (e.code === 'ArrowUp') {\n+      console.log('up')\n+      files[active]?.classList.toggle('active')\n+      files[active-1]?.classList.toggle('active')\n+      setActiveFile(active-1)\n+    }\n+    if (e.code === 'ArrowDown') {\n+      console.log('down')\n+      files[active]?.classList.toggle('active')\n+      files[active+1]?.classList.toggle('active')\n+      setActiveFile(active+1)\n+    }\n   }\n-  useEffect(()=>{\n-\n-    document.addEventListener('keydown',hanleSelect)\n-    return () => document.removeEventListener('keydown',hanleSelect)\n-  },[])\n+  useEffect(() => {\n+    document.addEventListener('keydown', hanleSelect)\n+    return () => document.removeEventListener('keydown', hanleSelect)\n+  }, [])\n   return (\n     <div className=\"search-file search-file-close\">\n       <div>\n         <input type=\"text\" />\n"
                },
                {
                    "date": 1666339379978,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,16 +16,16 @@\n   const hanleSelect = (e: KeyboardEvent) => {\n     const files = document.querySelectorAll<HTMLElement>('.search-file ul li') \n     if (e.code === 'ArrowUp') {\n       console.log('up')\n-      files[active]?.classList.toggle('active')\n-      files[active-1]?.classList.toggle('active')\n+      files[active]?.classList.remove('active')\n+      files[active-1]?.classList.add('active')\n       setActiveFile(active-1)\n     }\n     if (e.code === 'ArrowDown') {\n       console.log('down')\n-      files[active]?.classList.toggle('active')\n-      files[active+1]?.classList.toggle('active')\n+      files[active]?.classList.remove('active')\n+      files[active+1]?.classList.add('active')\n       setActiveFile(active+1)\n     }\n   }\n   useEffect(() => {\n"
                },
                {
                    "date": 1666339460387,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,10 +22,10 @@\n       setActiveFile(active-1)\n     }\n     if (e.code === 'ArrowDown') {\n       console.log('down')\n-      files[active]?.classList.remove('active')\n-      files[active+1]?.classList.add('active')\n+      files[active].classList.remove('active')\n+      files[active+1].classList.add('active')\n       setActiveFile(active+1)\n     }\n   }\n   useEffect(() => {\n"
                },
                {
                    "date": 1666339491071,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,14 +16,15 @@\n   const hanleSelect = (e: KeyboardEvent) => {\n     const files = document.querySelectorAll<HTMLElement>('.search-file ul li') \n     if (e.code === 'ArrowUp') {\n       console.log('up')\n-      files[active]?.classList.remove('active')\n-      files[active-1]?.classList.add('active')\n+      files[active].classList.remove('active')\n+      files[active-1].classList.add('active')\n       setActiveFile(active-1)\n     }\n     if (e.code === 'ArrowDown') {\n       console.log('down')\n+      console.log(active)\n       files[active].classList.remove('active')\n       files[active+1].classList.add('active')\n       setActiveFile(active+1)\n     }\n"
                },
                {
                    "date": 1666339560631,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,9 @@\n interface ISearchFile {\n   fileList: IFileList\n }\n export const SearchFile: React.FC<ISearchFile> = ({ fileList }) => {\n-  const [active, setActiveFile] = useState(0)\n+  let active = 0\n   const files = fileList.map((file, index) => {\n     return (\n       <li key={file.filePath} className={index === 0 ? 'active' : ''}>\n         <span>{file.fileName}</span>\n@@ -18,16 +18,16 @@\n     if (e.code === 'ArrowUp') {\n       console.log('up')\n       files[active].classList.remove('active')\n       files[active-1].classList.add('active')\n-      setActiveFile(active-1)\n+      active-=1\n     }\n     if (e.code === 'ArrowDown') {\n       console.log('down')\n       console.log(active)\n       files[active].classList.remove('active')\n       files[active+1].classList.add('active')\n-      setActiveFile(active+1)\n+      active+=1\n     }\n   }\n   useEffect(() => {\n     document.addEventListener('keydown', hanleSelect)\n"
                },
                {
                    "date": 1666339718260,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,21 +13,31 @@\n       </li>\n     )\n   })\n   const hanleSelect = (e: KeyboardEvent) => {\n-    const files = document.querySelectorAll<HTMLElement>('.search-file ul li') \n+    const files = document.querySelectorAll<HTMLElement>('.search-file ul li')\n     if (e.code === 'ArrowUp') {\n       console.log('up')\n       files[active].classList.remove('active')\n-      files[active-1].classList.add('active')\n-      active-=1\n+      if (!files[active - 1]) {\n+        active = files.length - 1\n+        files[active].classList.add('active')\n+      } else {\n+        files[active - 1].classList.add('active')\n+        active -= 1\n+      }\n     }\n     if (e.code === 'ArrowDown') {\n       console.log('down')\n       console.log(active)\n       files[active].classList.remove('active')\n-      files[active+1].classList.add('active')\n-      active+=1\n+      if (!files[active + 1]) {\n+        active = 0\n+        files[active].classList.add('active')\n+      } else {\n+        files[active + 1].classList.add('active')\n+        active += 1\n+      }\n     }\n   }\n   useEffect(() => {\n     document.addEventListener('keydown', hanleSelect)\n"
                },
                {
                    "date": 1666340117257,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,8 +13,9 @@\n       </li>\n     )\n   })\n   const hanleSelect = (e: KeyboardEvent) => {\n+    console.log(e)\n     const files = document.querySelectorAll<HTMLElement>('.search-file ul li')\n     if (e.code === 'ArrowUp') {\n       console.log('up')\n       files[active].classList.remove('active')\n"
                },
                {
                    "date": 1666340353750,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,5 @@\n+import { useOpenFile } from '@renderer/common/useOpenFile'\n import { useEffect, useState } from 'react'\n import { IFileList } from 'src/preload/index.d'\n \n interface ISearchFile {\n@@ -38,8 +39,12 @@\n         files[active + 1].classList.add('active')\n         active += 1\n       }\n     }\n+    if(e.code ==='Enter') {\n+      const filePath = fileList[active].filePath\n+      useOpenFile(filePath)\n+    }\n   }\n   useEffect(() => {\n     document.addEventListener('keydown', hanleSelect)\n     return () => document.removeEventListener('keydown', hanleSelect)\n"
                },
                {
                    "date": 1666340373522,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,8 +40,9 @@\n         active += 1\n       }\n     }\n     if(e.code ==='Enter') {\n+      console.log('enter')\n       const filePath = fileList[active].filePath\n       useOpenFile(filePath)\n     }\n   }\n"
                },
                {
                    "date": 1666340405783,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,8 +41,9 @@\n       }\n     }\n     if(e.code ==='Enter') {\n       console.log('enter')\n+      console.log(fileList[active])\n       const filePath = fileList[active].filePath\n       useOpenFile(filePath)\n     }\n   }\n"
                },
                {
                    "date": 1666340445753,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,9 +41,9 @@\n       }\n     }\n     if(e.code ==='Enter') {\n       console.log('enter')\n-      console.log(fileList[active])\n+      console.log(fileList)\n       const filePath = fileList[active].filePath\n       useOpenFile(filePath)\n     }\n   }\n"
                },
                {
                    "date": 1666340578021,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,13 +39,13 @@\n         files[active + 1].classList.add('active')\n         active += 1\n       }\n     }\n-    if(e.code ==='Enter') {\n-      console.log('enter')\n-      console.log(fileList)\n+    if (e.code === 'Enter') {\n       const filePath = fileList[active].filePath\n+      document.querySelector('')\n       useOpenFile(filePath)\n+      document.querySelector('.search-file')?.classList.toggle('search-file-close')\n     }\n   }\n   useEffect(() => {\n     document.addEventListener('keydown', hanleSelect)\n"
                },
                {
                    "date": 1666340611443,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,9 +41,8 @@\n       }\n     }\n     if (e.code === 'Enter') {\n       const filePath = fileList[active].filePath\n-      document.querySelector('')\n       useOpenFile(filePath)\n       document.querySelector('.search-file')?.classList.toggle('search-file-close')\n     }\n   }\n"
                },
                {
                    "date": 1666340617020,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,8 +41,9 @@\n       }\n     }\n     if (e.code === 'Enter') {\n       const filePath = fileList[active].filePath\n+      console.log(fileList[active])\n       useOpenFile(filePath)\n       document.querySelector('.search-file')?.classList.toggle('search-file-close')\n     }\n   }\n"
                },
                {
                    "date": 1666340692418,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,8 @@\n       </li>\n     )\n   })\n   const hanleSelect = (e: KeyboardEvent) => {\n-    console.log(e)\n     const files = document.querySelectorAll<HTMLElement>('.search-file ul li')\n     if (e.code === 'ArrowUp') {\n       console.log('up')\n       files[active].classList.remove('active')\n"
                },
                {
                    "date": 1666340729955,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,9 +40,10 @@\n       }\n     }\n     if (e.code === 'Enter') {\n       const filePath = fileList[active].filePath\n-      console.log(fileList[active])\n+      console.log(fileList)\n+      // console.log(fileList[active])\n       useOpenFile(filePath)\n       document.querySelector('.search-file')?.classList.toggle('search-file-close')\n     }\n   }\n"
                },
                {
                    "date": 1666340773993,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,10 +39,11 @@\n         active += 1\n       }\n     }\n     if (e.code === 'Enter') {\n+      console.log(fileList)\n+\n       const filePath = fileList[active].filePath\n-      console.log(fileList)\n       // console.log(fileList[active])\n       useOpenFile(filePath)\n       document.querySelector('.search-file')?.classList.toggle('search-file-close')\n     }\n"
                },
                {
                    "date": 1666340860232,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,11 +41,12 @@\n     }\n     if (e.code === 'Enter') {\n       console.log(fileList)\n \n-      const filePath = fileList[active].filePath\n+      const filePath = files[active].getAttribute('key')\n+      console.log(filePath)\n       // console.log(fileList[active])\n-      useOpenFile(filePath)\n+      // useOpenFile(filePath)\n       document.querySelector('.search-file')?.classList.toggle('search-file-close')\n     }\n   }\n   useEffect(() => {\n"
                },
                {
                    "date": 1666340916836,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,9 +40,9 @@\n       }\n     }\n     if (e.code === 'Enter') {\n       console.log(fileList)\n-\n+console.log(files)\n       const filePath = files[active].getAttribute('key')\n       console.log(filePath)\n       // console.log(fileList[active])\n       // useOpenFile(filePath)\n"
                },
                {
                    "date": 1666342047781,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,14 +40,14 @@\n       }\n     }\n     if (e.code === 'Enter') {\n       console.log(fileList)\n-console.log(files)\n-      const filePath = files[active].getAttribute('key')\n-      console.log(filePath)\n+// console.log(files)\n+      // const filePath = files[active].getAttribute('key')\n+      // console.log(filePath)\n       // console.log(fileList[active])\n       // useOpenFile(filePath)\n-      document.querySelector('.search-file')?.classList.toggle('search-file-close')\n+      // document.querySelector('.search-file')?.classList.toggle('search-file-close')\n     }\n   }\n   useEffect(() => {\n     document.addEventListener('keydown', hanleSelect)\n"
                },
                {
                    "date": 1666342081125,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,8 +5,9 @@\n interface ISearchFile {\n   fileList: IFileList\n }\n export const SearchFile: React.FC<ISearchFile> = ({ fileList }) => {\n+  console.log(fileList)\n   let active = 0\n   const files = fileList.map((file, index) => {\n     return (\n       <li key={file.filePath} className={index === 0 ? 'active' : ''}>\n"
                },
                {
                    "date": 1666342263275,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n interface ISearchFile {\n   fileList: IFileList\n }\n export const SearchFile: React.FC<ISearchFile> = ({ fileList }) => {\n-  console.log(fileList)\n+  console.log('xxxxxxxxxx')\n   let active = 0\n   const files = fileList.map((file, index) => {\n     return (\n       <li key={file.filePath} className={index === 0 ? 'active' : ''}>\n"
                },
                {
                    "date": 1666342325624,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n interface ISearchFile {\n   fileList: IFileList\n }\n export const SearchFile: React.FC<ISearchFile> = ({ fileList }) => {\n-  console.log('xxxxxxxxxx')\n+  console.log(fileList)\n   let active = 0\n   const files = fileList.map((file, index) => {\n     return (\n       <li key={file.filePath} className={index === 0 ? 'active' : ''}>\n"
                },
                {
                    "date": 1666342816598,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,9 @@\n   }\n   useEffect(() => {\n     document.addEventListener('keydown', hanleSelect)\n     return () => document.removeEventListener('keydown', hanleSelect)\n-  }, [])\n+  }, [fileList])\n   return (\n     <div className=\"search-file search-file-close\">\n       <div>\n         <input type=\"text\" />\n"
                },
                {
                    "date": 1666342942750,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,15 +40,13 @@\n         active += 1\n       }\n     }\n     if (e.code === 'Enter') {\n-      console.log(fileList)\n-// console.log(files)\n-      // const filePath = files[active].getAttribute('key')\n+      const filePath = fileList[active].filePath\n       // console.log(filePath)\n       // console.log(fileList[active])\n-      // useOpenFile(filePath)\n-      // document.querySelector('.search-file')?.classList.toggle('search-file-close')\n+      useOpenFile(filePath)\n+      document.querySelector('.search-file')?.classList.toggle('search-file-close')\n     }\n   }\n   useEffect(() => {\n     document.addEventListener('keydown', hanleSelect)\n"
                },
                {
                    "date": 1666343460079,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,9 @@\n     document.addEventListener('keydown', hanleSelect)\n     return () => document.removeEventListener('keydown', hanleSelect)\n   }, [fileList])\n   return (\n-    <div className=\"search-file search-file-close\">\n+    <div className=\"search-file \">\n       <div>\n         <input type=\"text\" />\n       </div>\n       <ul>{files}</ul>\n"
                },
                {
                    "date": 1666363092244,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,11 +2,12 @@\n import { useEffect, useState } from 'react'\n import { IFileList } from 'src/preload/index.d'\n \n interface ISearchFile {\n-  fileList: IFileList\n+  fileList: IFileList,\n+  openSearchFile:boolean\n }\n-export const SearchFile: React.FC<ISearchFile> = ({ fileList }) => {\n+export const SearchFile: React.FC<ISearchFile> = ({ fileList,openSearchFile }) => {\n   console.log(fileList)\n   let active = 0\n   const files = fileList.map((file, index) => {\n     return (\n"
                },
                {
                    "date": 1666363345391,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,12 @@\n import { useOpenFile } from '@renderer/common/useOpenFile'\n-import { useEffect, useState } from 'react'\n+import { useEffect } from 'react'\n import { IFileList } from 'src/preload/index.d'\n \n interface ISearchFile {\n   fileList: IFileList,\n-  openSearchFile:boolean\n }\n-export const SearchFile: React.FC<ISearchFile> = ({ fileList,openSearchFile }) => {\n+export const SearchFile: React.FC<ISearchFile> = ({ fileList }) => {\n   console.log(fileList)\n   let active = 0\n   const files = fileList.map((file, index) => {\n     return (\n"
                },
                {
                    "date": 1666363375368,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,12 +2,11 @@\n import { useEffect } from 'react'\n import { IFileList } from 'src/preload/index.d'\n \n interface ISearchFile {\n-  fileList: IFileList,\n+  fileList: IFileList\n }\n export const SearchFile: React.FC<ISearchFile> = ({ fileList }) => {\n-  console.log(fileList)\n   let active = 0\n   const files = fileList.map((file, index) => {\n     return (\n       <li key={file.filePath} className={index === 0 ? 'active' : ''}>\n"
                },
                {
                    "date": 1666406290681,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,10 +40,8 @@\n       }\n     }\n     if (e.code === 'Enter') {\n       const filePath = fileList[active].filePath\n-      // console.log(filePath)\n-      // console.log(fileList[active])\n       useOpenFile(filePath)\n       document.querySelector('.search-file')?.classList.toggle('search-file-close')\n     }\n   }\n"
                },
                {
                    "date": 1666407818347,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,10 +3,11 @@\n import { IFileList } from 'src/preload/index.d'\n \n interface ISearchFile {\n   fileList: IFileList\n+  openFile:(filePath:string) => void\n }\n-export const SearchFile: React.FC<ISearchFile> = ({ fileList }) => {\n+export const SearchFile: React.FC<ISearchFile> = ({ fileList,openFile }) => {\n   let active = 0\n   const files = fileList.map((file, index) => {\n     return (\n       <li key={file.filePath} className={index === 0 ? 'active' : ''}>\n@@ -40,10 +41,9 @@\n       }\n     }\n     if (e.code === 'Enter') {\n       const filePath = fileList[active].filePath\n-      useOpenFile(filePath)\n-      document.querySelector('.search-file')?.classList.toggle('search-file-close')\n+      openFile(filePath)\n     }\n   }\n   useEffect(() => {\n     document.addEventListener('keydown', hanleSelect)\n"
                },
                {
                    "date": 1666409059236,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,14 +1,15 @@\n import { useOpenFile } from '@renderer/common/useOpenFile'\n-import { useEffect } from 'react'\n+import { useEffect, useRef } from 'react'\n import { IFileList } from 'src/preload/index.d'\n \n interface ISearchFile {\n   fileList: IFileList\n   openFile:(filePath:string) => void\n }\n export const SearchFile: React.FC<ISearchFile> = ({ fileList,openFile }) => {\n   let active = 0\n+  const iptRef = useRef<HTMLInputElement>(null)\n   const files = fileList.map((file, index) => {\n     return (\n       <li key={file.filePath} className={index === 0 ? 'active' : ''}>\n         <span>{file.fileName}</span>\n@@ -45,15 +46,16 @@\n       openFile(filePath)\n     }\n   }\n   useEffect(() => {\n+    iptRef.current?.focus()\n     document.addEventListener('keydown', hanleSelect)\n     return () => document.removeEventListener('keydown', hanleSelect)\n   }, [fileList])\n   return (\n     <div className=\"search-file \">\n       <div>\n-        <input type=\"text\" />\n+        <input placeholder='xx' ref={iptRef} type=\"text\" />\n       </div>\n       <ul>{files}</ul>\n     </div>\n   )\n"
                },
                {
                    "date": 1666409194633,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,10 +4,11 @@\n \n interface ISearchFile {\n   fileList: IFileList\n   openFile:(filePath:string) => void\n+  closeSearchFile:()=>void\n }\n-export const SearchFile: React.FC<ISearchFile> = ({ fileList,openFile }) => {\n+export const SearchFile: React.FC<ISearchFile> = ({ fileList,openFile ,closeSearchFile}) => {\n   let active = 0\n   const iptRef = useRef<HTMLInputElement>(null)\n   const files = fileList.map((file, index) => {\n     return (\n@@ -43,8 +44,9 @@\n     }\n     if (e.code === 'Enter') {\n       const filePath = fileList[active].filePath\n       openFile(filePath)\n+      closeSearchFile()\n     }\n   }\n   useEffect(() => {\n     iptRef.current?.focus()\n"
                },
                {
                    "date": 1666501814270,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,14 +1,13 @@\n-import { useOpenFile } from '@renderer/common/useOpenFile'\n import { useEffect, useRef } from 'react'\n import { IFileList } from 'src/preload/index.d'\n \n interface ISearchFile {\n   fileList: IFileList\n-  openFile:(filePath:string) => void\n-  closeSearchFile:()=>void\n+  openFile: (filePath: string) => void\n+  closeSearchFile: () => void\n }\n-export const SearchFile: React.FC<ISearchFile> = ({ fileList,openFile ,closeSearchFile}) => {\n+export const SearchFile: React.FC<ISearchFile> = ({ fileList, openFile, closeSearchFile }) => {\n   let active = 0\n   const iptRef = useRef<HTMLInputElement>(null)\n   const files = fileList.map((file, index) => {\n     return (\n@@ -41,8 +40,19 @@\n         files[active + 1].classList.add('active')\n         active += 1\n       }\n     }\n+    const Element = files[active]\n+    const io = new IntersectionObserver((entries) => {\n+      entries.forEach((entrie) => {\n+        if (!entrie.isIntersecting) {\n+          console.log(entrie)\n+          Element.scrollIntoView()\n+          console.log(entrie)\n+        }\n+      })\n+    })\n+    io.observe(Element)\n     if (e.code === 'Enter') {\n       const filePath = fileList[active].filePath\n       openFile(filePath)\n       closeSearchFile()\n@@ -55,9 +65,9 @@\n   }, [fileList])\n   return (\n     <div className=\"search-file \">\n       <div>\n-        <input placeholder='xx' ref={iptRef} type=\"text\" />\n+        <input placeholder=\"xx\" ref={iptRef} type=\"text\" />\n       </div>\n       <ul>{files}</ul>\n     </div>\n   )\n"
                },
                {
                    "date": 1666501881766,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,10 +45,9 @@\n     const io = new IntersectionObserver((entries) => {\n       entries.forEach((entrie) => {\n         if (!entrie.isIntersecting) {\n           console.log(entrie)\n-          Element.scrollIntoView()\n-          console.log(entrie)\n+          // Element.scrollIntoView()\n         }\n       })\n     })\n     io.observe(Element)\n"
                },
                {
                    "date": 1666501943594,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,9 +18,8 @@\n   })\n   const hanleSelect = (e: KeyboardEvent) => {\n     const files = document.querySelectorAll<HTMLElement>('.search-file ul li')\n     if (e.code === 'ArrowUp') {\n-      console.log('up')\n       files[active].classList.remove('active')\n       if (!files[active - 1]) {\n         active = files.length - 1\n         files[active].classList.add('active')\n@@ -29,10 +28,8 @@\n         active -= 1\n       }\n     }\n     if (e.code === 'ArrowDown') {\n-      console.log('down')\n-      console.log(active)\n       files[active].classList.remove('active')\n       if (!files[active + 1]) {\n         active = 0\n         files[active].classList.add('active')\n@@ -41,8 +38,9 @@\n         active += 1\n       }\n     }\n     const Element = files[active]\n+    console.log(Element)\n     const io = new IntersectionObserver((entries) => {\n       entries.forEach((entrie) => {\n         if (!entrie.isIntersecting) {\n           console.log(entrie)\n"
                },
                {
                    "date": 1666501954700,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,9 +38,9 @@\n         active += 1\n       }\n     }\n     const Element = files[active]\n-    console.log(Element)\n+    console.log(Element.innerText)\n     const io = new IntersectionObserver((entries) => {\n       entries.forEach((entrie) => {\n         if (!entrie.isIntersecting) {\n           console.log(entrie)\n"
                },
                {
                    "date": 1666502045573,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,9 +41,9 @@\n     const Element = files[active]\n     console.log(Element.innerText)\n     const io = new IntersectionObserver((entries) => {\n       entries.forEach((entrie) => {\n-        if (!entrie.isIntersecting) {\n+        if (entrie.intersectionRatio < 0.1) {\n           console.log(entrie)\n           // Element.scrollIntoView()\n         }\n       })\n"
                },
                {
                    "date": 1666502121460,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,9 @@\n     const io = new IntersectionObserver((entries) => {\n       entries.forEach((entrie) => {\n         if (entrie.intersectionRatio < 0.1) {\n           console.log(entrie)\n-          // Element.scrollIntoView()\n+          Element.scrollIntoView(true)\n         }\n       })\n     })\n     io.observe(Element)\n"
                },
                {
                    "date": 1666502175486,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,8 +44,9 @@\n       entries.forEach((entrie) => {\n         if (entrie.intersectionRatio < 0.1) {\n           console.log(entrie)\n           Element.scrollIntoView(true)\n+          io.unobserve(Element)\n         }\n       })\n     })\n     io.observe(Element)\n"
                },
                {
                    "date": 1666502602842,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,9 @@\n     const io = new IntersectionObserver((entries) => {\n       entries.forEach((entrie) => {\n         if (entrie.intersectionRatio < 0.1) {\n           console.log(entrie)\n-          Element.scrollIntoView(true)\n+          Element.scrollIntoView({block:'end'})\n           io.unobserve(Element)\n         }\n       })\n     })\n"
                },
                {
                    "date": 1666502635992,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,9 @@\n     const io = new IntersectionObserver((entries) => {\n       entries.forEach((entrie) => {\n         if (entrie.intersectionRatio < 0.1) {\n           console.log(entrie)\n-          Element.scrollIntoView({block:'end'})\n+          Element.scrollIntoView({block:'start'})\n           io.unobserve(Element)\n         }\n       })\n     })\n"
                },
                {
                    "date": 1666502679471,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,9 @@\n     const io = new IntersectionObserver((entries) => {\n       entries.forEach((entrie) => {\n         if (entrie.intersectionRatio < 0.1) {\n           console.log(entrie)\n-          Element.scrollIntoView({block:'start'})\n+          Element.scrollIntoView({block:'nearest'})\n           io.unobserve(Element)\n         }\n       })\n     })\n"
                },
                {
                    "date": 1666502702096,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,9 @@\n     const io = new IntersectionObserver((entries) => {\n       entries.forEach((entrie) => {\n         if (entrie.intersectionRatio < 0.1) {\n           console.log(entrie)\n-          Element.scrollIntoView({block:'nearest'})\n+          Element.scrollIntoView({block:'center'})\n           io.unobserve(Element)\n         }\n       })\n     })\n"
                },
                {
                    "date": 1666502744791,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,9 @@\n     const io = new IntersectionObserver((entries) => {\n       entries.forEach((entrie) => {\n         if (entrie.intersectionRatio < 0.1) {\n           console.log(entrie)\n-          Element.scrollIntoView({block:'center'})\n+          Element.scrollIntoView({block:'start'})\n           io.unobserve(Element)\n         }\n       })\n     })\n"
                },
                {
                    "date": 1666502830302,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,11 +41,11 @@\n     const Element = files[active]\n     console.log(Element.innerText)\n     const io = new IntersectionObserver((entries) => {\n       entries.forEach((entrie) => {\n-        if (entrie.intersectionRatio < 0.1) {\n+        if (entrie.intersectionRatio < 0.5) {\n           console.log(entrie)\n-          Element.scrollIntoView({block:'start'})\n+          Element.scrollIntoView(false)\n           io.unobserve(Element)\n         }\n       })\n     })\n"
                },
                {
                    "date": 1666503042653,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,10 +44,10 @@\n       entries.forEach((entrie) => {\n         if (entrie.intersectionRatio < 0.5) {\n           console.log(entrie)\n           Element.scrollIntoView(false)\n-          io.unobserve(Element)\n         }\n+        io.unobserve(Element)\n       })\n     })\n     io.observe(Element)\n     if (e.code === 'Enter') {\n"
                },
                {
                    "date": 1666503228031,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,11 @@\n     )\n   })\n   const hanleSelect = (e: KeyboardEvent) => {\n     const files = document.querySelectorAll<HTMLElement>('.search-file ul li')\n-    if (e.code === 'ArrowUp') {\n+    const ARROW_DOWN = 'ArrowDown'\n+    const ARROW_UP = 'ArrowUp'\n+    if (e.code === ARROW_UP) {\n       files[active].classList.remove('active')\n       if (!files[active - 1]) {\n         active = files.length - 1\n         files[active].classList.add('active')\n@@ -27,9 +29,9 @@\n         files[active - 1].classList.add('active')\n         active -= 1\n       }\n     }\n-    if (e.code === 'ArrowDown') {\n+    if (e.code === ARROW_DOWN) {\n       files[active].classList.remove('active')\n       if (!files[active + 1]) {\n         active = 0\n         files[active].classList.add('active')\n@@ -42,11 +44,12 @@\n     console.log(Element.innerText)\n     const io = new IntersectionObserver((entries) => {\n       entries.forEach((entrie) => {\n         if (entrie.intersectionRatio < 0.5) {\n-          console.log(entrie)\n-          Element.scrollIntoView(false)\n+          if(e.code===ARROW_DOWN) Element.scrollIntoView(false)\n+          else Element.scrollIntoView(true)\n         }\n+        // 不论如何都需要移除当前的观察项，保证只有一项\n         io.unobserve(Element)\n       })\n     })\n     io.observe(Element)\n"
                },
                {
                    "date": 1666503246037,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,9 +44,9 @@\n     console.log(Element.innerText)\n     const io = new IntersectionObserver((entries) => {\n       entries.forEach((entrie) => {\n         if (entrie.intersectionRatio < 0.5) {\n-          if(e.code===ARROW_DOWN) Element.scrollIntoView(false)\n+          if (e.code === ARROW_DOWN) Element.scrollIntoView(false)\n           else Element.scrollIntoView(true)\n         }\n         // 不论如何都需要移除当前的观察项，保证只有一项\n         io.unobserve(Element)\n"
                },
                {
                    "date": 1667143526433,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,22 +1,27 @@\n-import { useEffect, useRef } from 'react'\n+import { useEffect, useRef, useState } from 'react'\n import { IFileList } from 'src/preload/index.d'\n \n interface ISearchFile {\n   fileList: IFileList\n   openFile: (filePath: string) => void\n   closeSearchFile: () => void\n }\n-export const SearchFile: React.FC<ISearchFile> = ({ fileList, openFile, closeSearchFile }) => {\n-  let active = 0\n-  const iptRef = useRef<HTMLInputElement>(null)\n+const mapFiles = (fileList: IFileList) => {\n   const files = fileList.map((file, index) => {\n     return (\n       <li key={file.filePath} className={index === 0 ? 'active' : ''}>\n         <span>{file.fileName}</span>\n       </li>\n     )\n   })\n+  return files\n+}\n+export const SearchFile: React.FC<ISearchFile> = ({ fileList, openFile, closeSearchFile }) => {\n+  const [files, setFiles] = useState(mapFiles(fileList))\n+\n+  let active = 0\n+  const iptRef = useRef<HTMLInputElement>(null)\n   const hanleSelect = (e: KeyboardEvent) => {\n     const files = document.querySelectorAll<HTMLElement>('.search-file ul li')\n     const ARROW_DOWN = 'ArrowDown'\n     const ARROW_UP = 'ArrowUp'\n@@ -63,12 +68,20 @@\n     iptRef.current?.focus()\n     document.addEventListener('keydown', hanleSelect)\n     return () => document.removeEventListener('keydown', hanleSelect)\n   }, [fileList])\n+  const updateFiles = () => {\n+    const searchStr = iptRef.current?.value || ''\n+    const newFileList = fileList.filter((file) => {\n+      if (file.fileName.includes(searchStr)) return true\n+      else return file\n+    })\n+    setFiles(newFileList)\n+  }\n   return (\n     <div className=\"search-file \">\n       <div>\n-        <input placeholder=\"xx\" ref={iptRef} type=\"text\" />\n+        <input placeholder=\"xx\" onChange={updateFiles} ref={iptRef} type=\"text\" />\n       </div>\n       <ul>{files}</ul>\n     </div>\n   )\n"
                },
                {
                    "date": 1667143565480,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,9 @@\n     const newFileList = fileList.filter((file) => {\n       if (file.fileName.includes(searchStr)) return true\n       else return file\n     })\n-    setFiles(newFileList)\n+    setFiles(mapFiles(newFileList))\n   }\n   return (\n     <div className=\"search-file \">\n       <div>\n"
                },
                {
                    "date": 1667143583551,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,8 +69,9 @@\n     document.addEventListener('keydown', hanleSelect)\n     return () => document.removeEventListener('keydown', hanleSelect)\n   }, [fileList])\n   const updateFiles = () => {\n+    console.log('change')\n     const searchStr = iptRef.current?.value || ''\n     const newFileList = fileList.filter((file) => {\n       if (file.fileName.includes(searchStr)) return true\n       else return file\n"
                },
                {
                    "date": 1667143632266,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,10 +69,10 @@\n     document.addEventListener('keydown', hanleSelect)\n     return () => document.removeEventListener('keydown', hanleSelect)\n   }, [fileList])\n   const updateFiles = () => {\n-    console.log('change')\n     const searchStr = iptRef.current?.value || ''\n+    console.log(searchStr)\n     const newFileList = fileList.filter((file) => {\n       if (file.fileName.includes(searchStr)) return true\n       else return file\n     })\n"
                },
                {
                    "date": 1667143684509,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,13 +70,13 @@\n     return () => document.removeEventListener('keydown', hanleSelect)\n   }, [fileList])\n   const updateFiles = () => {\n     const searchStr = iptRef.current?.value || ''\n-    console.log(searchStr)\n     const newFileList = fileList.filter((file) => {\n       if (file.fileName.includes(searchStr)) return true\n       else return file\n     })\n+    console.log(newFileList)\n     setFiles(mapFiles(newFileList))\n   }\n   return (\n     <div className=\"search-file \">\n"
                },
                {
                    "date": 1667143715769,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -72,9 +72,9 @@\n   const updateFiles = () => {\n     const searchStr = iptRef.current?.value || ''\n     const newFileList = fileList.filter((file) => {\n       if (file.fileName.includes(searchStr)) return true\n-      else return file\n+      else return false\n     })\n     console.log(newFileList)\n     setFiles(mapFiles(newFileList))\n   }\n"
                },
                {
                    "date": 1667143772198,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,9 @@\n   }, [fileList])\n   const updateFiles = () => {\n     const searchStr = iptRef.current?.value || ''\n     const newFileList = fileList.filter((file) => {\n-      if (file.fileName.includes(searchStr)) return true\n+      if (file.fileName.toLocaleLowerCase().includes(searchStr.toLocaleLowerCase())) return true\n       else return false\n     })\n     console.log(newFileList)\n     setFiles(mapFiles(newFileList))\n"
                },
                {
                    "date": 1667143901846,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,10 +59,11 @@\n     })\n     io.observe(Element)\n     if (e.code === 'Enter') {\n       const filePath = fileList[active].filePath\n-      openFile(filePath)\n-      closeSearchFile()\n+      console.log(filePath)\n+      // openFile(filePath)\n+      // closeSearchFile()\n     }\n   }\n   useEffect(() => {\n     iptRef.current?.focus()\n"
                },
                {
                    "date": 1667143925566,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,9 +45,8 @@\n         active += 1\n       }\n     }\n     const Element = files[active]\n-    console.log(Element.innerText)\n     const io = new IntersectionObserver((entries) => {\n       entries.forEach((entrie) => {\n         if (entrie.intersectionRatio < 0.5) {\n           if (e.code === ARROW_DOWN) Element.scrollIntoView(false)\n"
                },
                {
                    "date": 1667143937800,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,8 +45,9 @@\n         active += 1\n       }\n     }\n     const Element = files[active]\n+    console.log(Element.innerText)\n     const io = new IntersectionObserver((entries) => {\n       entries.forEach((entrie) => {\n         if (entrie.intersectionRatio < 0.5) {\n           if (e.code === ARROW_DOWN) Element.scrollIntoView(false)\n"
                },
                {
                    "date": 1667144030937,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,8 +36,9 @@\n       }\n     }\n     if (e.code === ARROW_DOWN) {\n       files[active].classList.remove('active')\n+      console.log(active)\n       if (!files[active + 1]) {\n         active = 0\n         files[active].classList.add('active')\n       } else {\n"
                },
                {
                    "date": 1667144228671,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,11 +6,11 @@\n   openFile: (filePath: string) => void\n   closeSearchFile: () => void\n }\n const mapFiles = (fileList: IFileList) => {\n-  const files = fileList.map((file, index) => {\n+  const files = fileList.map((file) => {\n     return (\n-      <li key={file.filePath} className={index === 0 ? 'active' : ''}>\n+      <li key={file.filePath} >\n         <span>{file.fileName}</span>\n       </li>\n     )\n   })\n@@ -22,8 +22,9 @@\n   let active = 0\n   const iptRef = useRef<HTMLInputElement>(null)\n   const hanleSelect = (e: KeyboardEvent) => {\n     const files = document.querySelectorAll<HTMLElement>('.search-file ul li')\n+    files[0].classList.add('active')\n     const ARROW_DOWN = 'ArrowDown'\n     const ARROW_UP = 'ArrowUp'\n     if (e.code === ARROW_UP) {\n       files[active].classList.remove('active')\n"
                },
                {
                    "date": 1667144299751,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,8 @@\n   return files\n }\n export const SearchFile: React.FC<ISearchFile> = ({ fileList, openFile, closeSearchFile }) => {\n   const [files, setFiles] = useState(mapFiles(fileList))\n-\n   let active = 0\n   const iptRef = useRef<HTMLInputElement>(null)\n   const hanleSelect = (e: KeyboardEvent) => {\n     const files = document.querySelectorAll<HTMLElement>('.search-file ul li')\n"
                },
                {
                    "date": 1667144344485,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,19 +6,20 @@\n   openFile: (filePath: string) => void\n   closeSearchFile: () => void\n }\n const mapFiles = (fileList: IFileList) => {\n-  const files = fileList.map((file) => {\n+  const files = fileList.map((file, index) => {\n     return (\n-      <li key={file.filePath} >\n+      <li key={file.filePath} className={index === 0 ? 'active' : ''}>\n         <span>{file.fileName}</span>\n       </li>\n     )\n   })\n   return files\n }\n export const SearchFile: React.FC<ISearchFile> = ({ fileList, openFile, closeSearchFile }) => {\n   const [files, setFiles] = useState(mapFiles(fileList))\n+\n   let active = 0\n   const iptRef = useRef<HTMLInputElement>(null)\n   const hanleSelect = (e: KeyboardEvent) => {\n     const files = document.querySelectorAll<HTMLElement>('.search-file ul li')\n"
                },
                {
                    "date": 1667144354589,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,8 @@\n   let active = 0\n   const iptRef = useRef<HTMLInputElement>(null)\n   const hanleSelect = (e: KeyboardEvent) => {\n     const files = document.querySelectorAll<HTMLElement>('.search-file ul li')\n-    files[0].classList.add('active')\n     const ARROW_DOWN = 'ArrowDown'\n     const ARROW_UP = 'ArrowUp'\n     if (e.code === ARROW_UP) {\n       files[active].classList.remove('active')\n"
                },
                {
                    "date": 1667145071942,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,12 +15,13 @@\n     )\n   })\n   return files\n }\n+let active = 0\n+\n export const SearchFile: React.FC<ISearchFile> = ({ fileList, openFile, closeSearchFile }) => {\n   const [files, setFiles] = useState(mapFiles(fileList))\n \n-  let active = 0\n   const iptRef = useRef<HTMLInputElement>(null)\n   const hanleSelect = (e: KeyboardEvent) => {\n     const files = document.querySelectorAll<HTMLElement>('.search-file ul li')\n     const ARROW_DOWN = 'ArrowDown'\n"
                }
            ],
            "date": 1666160968450,
            "name": "Commit-0",
            "content": "export const SearchFile = () => {\n  return (\n    <div className=\"search-file\">\n      <div>\n        <input type=\"text\" />\n      </div>\n      <ul></ul>\n    </div>\n  )\n}\n"
        }
    ]
}