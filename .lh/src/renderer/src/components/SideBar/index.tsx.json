{
    "sourceFile": "src/renderer/src/components/SideBar/index.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 33,
            "patches": [
                {
                    "date": 1665497140199,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1665497146354,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,7 @@\n-export const  = () => {\n+export const SideBar = () => {\n   return (\n-    <div></div>\n+    <div>\n+        \n+    </div>\n   )\n  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1665498963979,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n export const SideBar = () => {\n   return (\n-    <div>\n+    <div cla>\n         \n     </div>\n   )\n  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1665498970942,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n export const SideBar = () => {\n   return (\n-    <div cla>\n+    <div className=\"side-bar\">\n         \n     </div>\n   )\n  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1665498982012,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n export const SideBar = () => {\n   return (\n     <div className=\"side-bar\">\n-        \n+      <div></div>\n     </div>\n   )\n  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1665498987603,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,10 @@\n export const SideBar = () => {\n   return (\n     <div className=\"side-bar\">\n-      <div></div>\n+      <div>text</div>\n+      <div>\n+        \n+      </div>\n     </div>\n   )\n  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1665498993870,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,9 @@\n export const SideBar = () => {\n   return (\n     <div className=\"side-bar\">\n       <div>text</div>\n-      <div>\n-        \n-      </div>\n+      <div></div>\n+      \n     </div>\n   )\n  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1665499009494,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,10 @@\n export const SideBar = () => {\n   return (\n     <div className=\"side-bar\">\n+      <\n       <div>text</div>\n-      <div></div>\n-      \n+\n+\n     </div>\n   )\n  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1665499014659,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n export const SideBar = () => {\n   return (\n     <div className=\"side-bar\">\n-      <\n+      <Drag\n       <div>text</div>\n \n \n     </div>\n"
                },
                {
                    "date": 1665499026835,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n export const SideBar = () => {\n   return (\n     <div className=\"side-bar\">\n-      <Drag\n+      <Dr\n       <div>text</div>\n \n \n     </div>\n"
                },
                {
                    "date": 1665500275173,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,11 @@\n+import { DragLine } from \"./DragLine\"\n+\n export const SideBar = () => {\n   return (\n     <div className=\"side-bar\">\n-      <Dr\n+      <DragLine/>\n       <div>text</div>\n-\n-\n+      <Header\n     </div>\n   )\n  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1665500281636,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,12 @@\n import { DragLine } from \"./DragLine\"\n+import { Headers } from \"./Headers\"\n \n export const SideBar = () => {\n   return (\n     <div className=\"side-bar\">\n       <DragLine/>\n       <div>text</div>\n-      <Header\n+      <Headers/>\n     </div>\n   )\n  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1665638844269,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,9 @@\n export const SideBar = () => {\n   return (\n     <div className=\"side-bar\">\n       <DragLine/>\n-      <div>text</div>\n+      <header><span>文件</span></header>\n       <Headers/>\n     </div>\n   )\n  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1665638911972,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,11 +2,12 @@\n import { Headers } from \"./Headers\"\n \n export const SideBar = () => {\n   return (\n+\n     <div className=\"side-bar\">\n+    <header><span>文件</span></header>\n       <DragLine/>\n-      <header><span>文件</span></header>\n       <Headers/>\n     </div>\n   )\n  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1665642637934,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,10 +4,11 @@\n export const SideBar = () => {\n   return (\n \n     <div className=\"side-bar\">\n+      <Headers/>\n+\n     <header><span>文件</span></header>\n       <DragLine/>\n-      <Headers/>\n     </div>\n   )\n  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1665642648792,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,11 +4,10 @@\n export const SideBar = () => {\n   return (\n \n     <div className=\"side-bar\">\n-      <Headers/>\n-\n     <header><span>文件</span></header>\n       <DragLine/>\n+      <Headers/>\n     </div>\n   )\n  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1665642779153,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,13 @@\n import { DragLine } from \"./DragLine\"\n-import { Headers } from \"./Headers\"\n+import { HeaderList } from \"./Headers\"\n \n export const SideBar = () => {\n   return (\n \n     <div className=\"side-bar\">\n     <header><span>文件</span></header>\n       <DragLine/>\n-      <Headers/>\n+      <HeaderList/>\n     </div>\n   )\n  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1665642863189,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import { DragLine } from \"./DragLine\"\n-import { HeaderList } from \"./Headers\"\n+import { HeaderList } from \"./HeaderList\"\n \n export const SideBar = () => {\n   return (\n \n"
                },
                {
                    "date": 1665670403908,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,14 @@\n-import { DragLine } from \"./DragLine\"\n-import { HeaderList } from \"./HeaderList\"\n+import { DragLine } from './DragLine'\n+import { HeaderList } from './HeaderList'\n \n export const SideBar = () => {\n   return (\n-\n     <div className=\"side-bar\">\n-    <header><span>文件</span></header>\n-      <DragLine/>\n-      <HeaderList/>\n+      <header>\n\\ No newline at end of file\n+        <span>文件</span>\n+      </header>\n+      <DragLine />\n+      <HeaderList />\n     </div>\n   )\n- }\n+}\n"
                },
                {
                    "date": 1665670422075,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,13 +2,16 @@\n import { HeaderList } from './HeaderList'\n \n export const SideBar = () => {\n   return (\n-    <div className=\"side-bar\">\n-      <header>\n-        <span>文件</span>\n-      </header>\n+    <>\n       <DragLine />\n-      <HeaderList />\n-    </div>\n+      <div className=\"side-bar\">\n\\ No newline at end of file\n+        <header>\n+          <span>文件</span>\n+        </header>\n+\n+        <HeaderList />\n+      </div>\n+    </>\n   )\n-}\n+}\n"
                },
                {
                    "date": 1665670493257,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,16 +2,13 @@\n import { HeaderList } from './HeaderList'\n \n export const SideBar = () => {\n   return (\n-    <>\n+    <div className=\"side-bar\">\n+      <header>\n+        <span>文件</span>\n+      </header>\n       <DragLine />\n-      <div className=\"side-bar\">\n-        <header>\n-          <span>文件</span>\n-        </header>\n-\n-        <HeaderList />\n\\ No newline at end of file\n-      </div>\n-    </>\n+      <HeaderList />\n+    </div>\n   )\n-}\n+}\n"
                },
                {
                    "date": 1665723507453,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,21 @@\n+import { LegacyRef, useEffect, useRef } from 'react'\n import { DragLine } from './DragLine'\n import { HeaderList } from './HeaderList'\n \n export const SideBar = () => {\n+  const sideBarRef = useRef<HTMLDivElement>()\n+  useEffect(() => {\n+    const hanldeHideBar = (e: KeyboardEvent) => {\n+      if (e.metaKey && e.code === 'KeyB') {\n+        sideBarRef.current?.classList.toggle('side-bar-close')\n+      }\n+    }\n+    document.addEventListener('keydown', hanldeHideBar)\n+    return () => document.removeEventListener('keydown', hanldeHideBar)\n+  })\n   return (\n-    <div className=\"side-bar\">\n+    <div className=\"side-bar\" ref={sideBarRef as LegacyRef<HTMLDivElement>}>\n       <header>\n         <span>文件</span>\n       </header>\n       <DragLine />\n"
                },
                {
                    "date": 1665727040279,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,14 +1,17 @@\n-import { LegacyRef, useEffect, useRef } from 'react'\n+import { LegacyRef, useEffect, useRef, useState } from 'react'\n import { DragLine } from './DragLine'\n import { HeaderList } from './HeaderList'\n \n export const SideBar = () => {\n+  const [update, setUpdate] = useState(false)\n+\n   const sideBarRef = useRef<HTMLDivElement>()\n   useEffect(() => {\n     const hanldeHideBar = (e: KeyboardEvent) => {\n       if (e.metaKey && e.code === 'KeyB') {\n         sideBarRef.current?.classList.toggle('side-bar-close')\n+        setUpdate(!update)\n       }\n     }\n     document.addEventListener('keydown', hanldeHideBar)\n     return () => document.removeEventListener('keydown', hanldeHideBar)\n@@ -18,8 +21,8 @@\n       <header>\n         <span>文件</span>\n       </header>\n       <DragLine />\n-      <HeaderList />\n+      <HeaderList shouldUpdate={update} />\n     </div>\n   )\n }\n"
                },
                {
                    "date": 1665728911232,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n       }\n     }\n     document.addEventListener('keydown', hanldeHideBar)\n     return () => document.removeEventListener('keydown', hanldeHideBar)\n-  })\n+  },[])\n   return (\n     <div className=\"side-bar\" ref={sideBarRef as LegacyRef<HTMLDivElement>}>\n       <header>\n         <span>文件</span>\n"
                },
                {
                    "date": 1665728932209,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,8 +8,9 @@\n   const sideBarRef = useRef<HTMLDivElement>()\n   useEffect(() => {\n     const hanldeHideBar = (e: KeyboardEvent) => {\n       if (e.metaKey && e.code === 'KeyB') {\n+        console.log('commend + b')\n         sideBarRef.current?.classList.toggle('side-bar-close')\n         setUpdate(!update)\n       }\n     }\n"
                },
                {
                    "date": 1665728943494,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,9 +8,8 @@\n   const sideBarRef = useRef<HTMLDivElement>()\n   useEffect(() => {\n     const hanldeHideBar = (e: KeyboardEvent) => {\n       if (e.metaKey && e.code === 'KeyB') {\n-        console.log('commend + b')\n         sideBarRef.current?.classList.toggle('side-bar-close')\n         setUpdate(!update)\n       }\n     }\n"
                },
                {
                    "date": 1665729513633,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,8 +8,9 @@\n   const sideBarRef = useRef<HTMLDivElement>()\n   useEffect(() => {\n     const hanldeHideBar = (e: KeyboardEvent) => {\n       if (e.metaKey && e.code === 'KeyB') {\n+        console.log('command + B')\n         sideBarRef.current?.classList.toggle('side-bar-close')\n         setUpdate(!update)\n       }\n     }\n"
                },
                {
                    "date": 1665735184808,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,8 +11,9 @@\n       if (e.metaKey && e.code === 'KeyB') {\n         console.log('command + B')\n         sideBarRef.current?.classList.toggle('side-bar-close')\n         setUpdate(!update)\n+        console.log(update)\n       }\n     }\n     document.addEventListener('keydown', hanldeHideBar)\n     return () => document.removeEventListener('keydown', hanldeHideBar)\n"
                },
                {
                    "date": 1665735284746,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,17 +2,17 @@\n import { DragLine } from './DragLine'\n import { HeaderList } from './HeaderList'\n \n export const SideBar = () => {\n-  const [update, setUpdate] = useState(false)\n+  const [update, setUpdate] = useState(0)\n \n   const sideBarRef = useRef<HTMLDivElement>()\n   useEffect(() => {\n     const hanldeHideBar = (e: KeyboardEvent) => {\n       if (e.metaKey && e.code === 'KeyB') {\n         console.log('command + B')\n         sideBarRef.current?.classList.toggle('side-bar-close')\n-        setUpdate(!update)\n+        setUpdate(Math.random())\n         console.log(update)\n       }\n     }\n     document.addEventListener('keydown', hanldeHideBar)\n"
                },
                {
                    "date": 1665735328109,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,8 @@\n       if (e.metaKey && e.code === 'KeyB') {\n         console.log('command + B')\n         sideBarRef.current?.classList.toggle('side-bar-close')\n         setUpdate(Math.random())\n-        console.log(update)\n       }\n     }\n     document.addEventListener('keydown', hanldeHideBar)\n     return () => document.removeEventListener('keydown', hanldeHideBar)\n"
                },
                {
                    "date": 1665735673062,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,8 @@\n import { HeaderList } from './HeaderList'\n \n export const SideBar = () => {\n   const [update, setUpdate] = useState(0)\n-\n   const sideBarRef = useRef<HTMLDivElement>()\n   useEffect(() => {\n     const hanldeHideBar = (e: KeyboardEvent) => {\n       if (e.metaKey && e.code === 'KeyB') {\n@@ -15,9 +14,14 @@\n       }\n     }\n     document.addEventListener('keydown', hanldeHideBar)\n     return () => document.removeEventListener('keydown', hanldeHideBar)\n-  },[])\n+  }, [])\n+  useEffect(() => {\n+    window.api.onUpdateEditor(() => {\n+      setUpdate(Math.random())\n+    })\n+  }, [])\n   return (\n     <div className=\"side-bar\" ref={sideBarRef as LegacyRef<HTMLDivElement>}>\n       <header>\n         <span>文件</span>\n"
                },
                {
                    "date": 1665735780853,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,8 +17,9 @@\n     return () => document.removeEventListener('keydown', hanldeHideBar)\n   }, [])\n   useEffect(() => {\n     window.api.onUpdateEditor(() => {\n+      console.log('update')\n       setUpdate(Math.random())\n     })\n   }, [])\n   return (\n"
                },
                {
                    "date": 1665735828705,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,10 +17,12 @@\n     return () => document.removeEventListener('keydown', hanldeHideBar)\n   }, [])\n   useEffect(() => {\n     window.api.onUpdateEditor(() => {\n-      console.log('update')\n-      setUpdate(Math.random())\n+      // 这里使用定时器是因为可能编辑器还没渲染完，后面看看有没有什么办法\n+      setTimeout(()=>{\n+        setUpdate(Math.random())\n+      })\n     })\n   }, [])\n   return (\n     <div className=\"side-bar\" ref={sideBarRef as LegacyRef<HTMLDivElement>}>\n"
                },
                {
                    "date": 1665735865259,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n     return () => document.removeEventListener('keydown', hanldeHideBar)\n   }, [])\n   useEffect(() => {\n     window.api.onUpdateEditor(() => {\n-      // 这里使用定时器是因为可能编辑器还没渲染完，后面看看有没有什么办法\n+      // 这里使用定时器是因为可能编辑器还没渲染完，后面看看有没有什么办法,这样好像也行，引文编辑器渲染是同步的\n       setTimeout(()=>{\n         setUpdate(Math.random())\n       })\n     })\n"
                }
            ],
            "date": 1665497140199,
            "name": "Commit-0",
            "content": "export const  = () => {\n  return (\n    <div></div>\n  )\n }"
        }
    ]
}