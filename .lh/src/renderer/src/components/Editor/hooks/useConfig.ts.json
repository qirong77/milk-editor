{
    "sourceFile": "src/renderer/src/components/Editor/hooks/useConfig.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 59,
            "patches": [
                {
                    "date": 1665632485404,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1665765056232,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n-import { Ctx, Editor } from \"@milkdown/core\";\n-import { listenerCtx } from \"@milkdown/plugin-listener\";\n-\n-export const conifgEdirot = (ctx:Ctx) => {\n-    ctx.get(listenerCtx).markdownUpdated((ctx, markdown, prevMarkdown) => {\n-        console.log(markdown)\n-      })\n-}\n\\ No newline at end of file\n+import { Ctx, defaultValueCtx } from '@milkdown/core'\n+import { listenerCtx } from '@milkdown/plugin-listener'\n+export const useConfig = (ctx: Ctx) => {\n+  // ctx.set(defaultValueCtx, DEFAULT_MARKDOWN)\n+  ctx.get(listenerCtx).markdownUpdated((ctx, markdown, prevMarkdown) => {\n+    // console.log(ctx)\n+  })\n+}\n"
                },
                {
                    "date": 1665765062219,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n import { Ctx, defaultValueCtx } from '@milkdown/core'\n import { listenerCtx } from '@milkdown/plugin-listener'\n export const useConfig = (ctx: Ctx) => {\n-  // ctx.set(defaultValueCtx, DEFAULT_MARKDOWN)\n-  ctx.get(listenerCtx).markdownUpdated((ctx, markdown, prevMarkdown) => {\n-    // console.log(ctx)\n-  })\n+  // // ctx.set(defaultValueCtx, DEFAULT_MARKDOWN)\n+  // ctx.get(listenerCtx).markdownUpdated((ctx, markdown, prevMarkdown) => {\n+  //   // console.log(ctx)\n+  // })\n }\n"
                },
                {
                    "date": 1665765087112,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n-import { Ctx, defaultValueCtx } from '@milkdown/core'\n-import { listenerCtx } from '@milkdown/plugin-listener'\n+// import { Ctx, defaultValueCtx } from '@milkdown/core'\n+// import { listenerCtx } from '@milkdown/plugin-listener'\n export const useConfig = (ctx: Ctx) => {\n   // // ctx.set(defaultValueCtx, DEFAULT_MARKDOWN)\n   // ctx.get(listenerCtx).markdownUpdated((ctx, markdown, prevMarkdown) => {\n   //   // console.log(ctx)\n"
                },
                {
                    "date": 1665909915336,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,8 @@\n // import { Ctx, defaultValueCtx } from '@milkdown/core'\n+\n+import { Ctx } from \"@milkdown/core\";\n+\n // import { listenerCtx } from '@milkdown/plugin-listener'\n export const useConfig = (ctx: Ctx) => {\n   // // ctx.set(defaultValueCtx, DEFAULT_MARKDOWN)\n   // ctx.get(listenerCtx).markdownUpdated((ctx, markdown, prevMarkdown) => {\n"
                },
                {
                    "date": 1665910642808,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,30 @@\n-// import { Ctx, defaultValueCtx } from '@milkdown/core'\n+import { listener, listenerCtx } from '@milkdown/plugin-listener'\n \n-import { Ctx } from \"@milkdown/core\";\n+import { Ctx } from '@milkdown/core'\n \n // import { listenerCtx } from '@milkdown/plugin-listener'\n export const useConfig = (ctx: Ctx) => {\n-  // // ctx.set(defaultValueCtx, DEFAULT_MARKDOWN)\n-  // ctx.get(listenerCtx).markdownUpdated((ctx, markdown, prevMarkdown) => {\n-  //   // console.log(ctx)\n-  // })\n+  ctx\n+    .get(listenerCtx)\n+    .beforeMount((ctx) => {\n+      console.log('before the editor mounts')\n+    })\n+    .mounted((ctx) => {\n+      console.log('after the editor mounts')\n+    })\n+    .updated((ctx, doc, prevDoc) => {\n+      console.log('when editor state updates')\n+    })\n+    .markdownUpdated((ctx, markdown, prevMarkdown) => {\n+      console.log('when markdown updates')\n+    })\n+    .blur((ctx) => {\n+      console.log('when editor loses focus')\n+    })\n+    .focus((ctx) => {\n+      console.log(' when focus editor')\n+    })\n+    .destroy((ctx) => {\n+      console.log('when editor is being destroyed')\n+    })\n }\n"
                },
                {
                    "date": 1665910657610,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import { listener, listenerCtx } from '@milkdown/plugin-listener'\n+import { listenerCtx } from '@milkdown/plugin-listener'\n \n import { Ctx } from '@milkdown/core'\n \n // import { listenerCtx } from '@milkdown/plugin-listener'\n"
                },
                {
                    "date": 1665921775734,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,8 @@\n import { listenerCtx } from '@milkdown/plugin-listener'\n \n import { Ctx } from '@milkdown/core'\n \n-// import { listenerCtx } from '@milkdown/plugin-listener'\n export const useConfig = (ctx: Ctx) => {\n   ctx\n     .get(listenerCtx)\n     .beforeMount((ctx) => {\n"
                },
                {
                    "date": 1665923460550,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n import { listenerCtx } from '@milkdown/plugin-listener'\n \n import { Ctx } from '@milkdown/core'\n+import { useUpdateHeaders } from '@renderer/components/SideBar/hooks/useUpdateHeader'\n \n export const useConfig = (ctx: Ctx) => {\n   ctx\n     .get(listenerCtx)\n@@ -15,8 +16,9 @@\n       console.log('when editor state updates')\n     })\n     .markdownUpdated((ctx, markdown, prevMarkdown) => {\n       console.log('when markdown updates')\n+      useUpdateHeaders()\n     })\n     .blur((ctx) => {\n       console.log('when editor loses focus')\n     })\n"
                },
                {
                    "date": 1665923610155,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,12 +19,12 @@\n       console.log('when markdown updates')\n       useUpdateHeaders()\n     })\n     .blur((ctx) => {\n-      console.log('when editor loses focus')\n+      // console.log('when editor loses focus')\n     })\n     .focus((ctx) => {\n-      console.log(' when focus editor')\n+      // console.log(' when focus editor')\n     })\n     .destroy((ctx) => {\n       console.log('when editor is being destroyed')\n     })\n"
                },
                {
                    "date": 1665924558599,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,9 @@\n import { listenerCtx } from '@milkdown/plugin-listener'\n \n import { Ctx } from '@milkdown/core'\n import { useUpdateHeaders } from '@renderer/components/SideBar/hooks/useUpdateHeader'\n+import { useDebounce } from '@renderer/common/useDebouce'\n \n export const useConfig = (ctx: Ctx) => {\n   ctx\n     .get(listenerCtx)\n@@ -16,9 +17,9 @@\n       console.log('when editor state updates')\n     })\n     .markdownUpdated((ctx, markdown, prevMarkdown) => {\n       console.log('when markdown updates')\n-      useUpdateHeaders()\n+      useDebounce(useUpdateHeaders,3000)\n     })\n     .blur((ctx) => {\n       // console.log('when editor loses focus')\n     })\n"
                },
                {
                    "date": 1665929793013,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,10 @@\n import { listenerCtx } from '@milkdown/plugin-listener'\n \n import { Ctx } from '@milkdown/core'\n import { useUpdateHeaders } from '@renderer/components/SideBar/hooks/useUpdateHeader'\n-import { useDebounce } from '@renderer/common/useDebouce'\n \n+\n export const useConfig = (ctx: Ctx) => {\n   ctx\n     .get(listenerCtx)\n     .beforeMount((ctx) => {\n@@ -17,9 +17,8 @@\n       console.log('when editor state updates')\n     })\n     .markdownUpdated((ctx, markdown, prevMarkdown) => {\n       console.log('when markdown updates')\n-      useDebounce(useUpdateHeaders,3000)\n     })\n     .blur((ctx) => {\n       // console.log('when editor loses focus')\n     })\n"
                },
                {
                    "date": 1665929825915,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,8 +17,9 @@\n       console.log('when editor state updates')\n     })\n     .markdownUpdated((ctx, markdown, prevMarkdown) => {\n       console.log('when markdown updates')\n+      useUpdateHeaders()\n     })\n     .blur((ctx) => {\n       // console.log('when editor loses focus')\n     })\n"
                },
                {
                    "date": 1665930232851,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,12 @@\n import { listenerCtx } from '@milkdown/plugin-listener'\n \n import { Ctx } from '@milkdown/core'\n import { useUpdateHeaders } from '@renderer/components/SideBar/hooks/useUpdateHeader'\n+const nofifyUpdateFile = () => {\n+  // window.api.e\n+}\n \n-\n export const useConfig = (ctx: Ctx) => {\n   ctx\n     .get(listenerCtx)\n     .beforeMount((ctx) => {\n"
                },
                {
                    "date": 1665989999439,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,11 @@\n import { listenerCtx } from '@milkdown/plugin-listener'\n \n import { Ctx } from '@milkdown/core'\n import { useUpdateHeaders } from '@renderer/components/SideBar/hooks/useUpdateHeader'\n-const nofifyUpdateFile = () => {\n-  // window.api.e\n+import { useDebounce } from '@renderer/common/useDebouce'\n+const nofifyUpdateFile = (filePath,newFileContent) => {\n+  window.api.updateFile({filePath,newFileContent})\n }\n \n export const useConfig = (ctx: Ctx) => {\n   ctx\n@@ -20,8 +21,9 @@\n     })\n     .markdownUpdated((ctx, markdown, prevMarkdown) => {\n       console.log('when markdown updates')\n       useUpdateHeaders()\n+      // useDebounce(nofifyUpdateFile('',markdown),1000)\n     })\n     .blur((ctx) => {\n       // console.log('when editor loses focus')\n     })\n"
                },
                {
                    "date": 1665995862002,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,13 +2,14 @@\n \n import { Ctx } from '@milkdown/core'\n import { useUpdateHeaders } from '@renderer/components/SideBar/hooks/useUpdateHeader'\n import { useDebounce } from '@renderer/common/useDebouce'\n-const nofifyUpdateFile = (filePath,newFileContent) => {\n+\n+const updateFile = (filePath,newFileContent) =>{\n   window.api.updateFile({filePath,newFileContent})\n }\n-\n-export const useConfig = (ctx: Ctx) => {\n+const useUpdateFile = useDebounce(updateFile,10000,)\n+export const useConfig = (ctx: Ctx) => { \n   ctx\n     .get(listenerCtx)\n     .beforeMount((ctx) => {\n       console.log('before the editor mounts')\n"
                },
                {
                    "date": 1665999586283,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,9 +6,9 @@\n \n const updateFile = (filePath,newFileContent) =>{\n   window.api.updateFile({filePath,newFileContent})\n }\n-const useUpdateFile = useDebounce(updateFile,10000,)\n+\n export const useConfig = (ctx: Ctx) => { \n   ctx\n     .get(listenerCtx)\n     .beforeMount((ctx) => {\n"
                },
                {
                    "date": 1665999593004,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,9 +6,8 @@\n \n const updateFile = (filePath,newFileContent) =>{\n   window.api.updateFile({filePath,newFileContent})\n }\n-\n export const useConfig = (ctx: Ctx) => { \n   ctx\n     .get(listenerCtx)\n     .beforeMount((ctx) => {\n"
                },
                {
                    "date": 1665999666989,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,9 @@\n       useUpdateHeaders()\n       // useDebounce(nofifyUpdateFile('',markdown),1000)\n     })\n     .blur((ctx) => {\n-      // console.log('when editor loses focus')\n+      console.log(' editor loses focus')\n     })\n     .focus((ctx) => {\n       // console.log(' when focus editor')\n     })\n"
                },
                {
                    "date": 1666000044430,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,11 @@\n import { listenerCtx } from '@milkdown/plugin-listener'\n \n import { Ctx } from '@milkdown/core'\n import { useUpdateHeaders } from '@renderer/components/SideBar/hooks/useUpdateHeader'\n-import { useDebounce } from '@renderer/common/useDebouce'\n \n-const updateFile = (filePath,newFileContent) =>{\n-  window.api.updateFile({filePath,newFileContent})\n-}\n+\n+let isFileChange = false\n export const useConfig = (ctx: Ctx) => { \n   ctx\n     .get(listenerCtx)\n     .beforeMount((ctx) => {\n@@ -16,16 +14,20 @@\n     .mounted((ctx) => {\n       console.log('after the editor mounts')\n     })\n     .updated((ctx, doc, prevDoc) => {\n+      isFileChange = true\n       console.log('when editor state updates')\n     })\n     .markdownUpdated((ctx, markdown, prevMarkdown) => {\n       console.log('when markdown updates')\n       useUpdateHeaders()\n       // useDebounce(nofifyUpdateFile('',markdown),1000)\n     })\n     .blur((ctx) => {\n+      if(isFileChange) {\n+        console.log('update-file')\n+      }\n       console.log(' editor loses focus')\n     })\n     .focus((ctx) => {\n       // console.log(' when focus editor')\n"
                },
                {
                    "date": 1666000302101,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,9 @@\n import { useUpdateHeaders } from '@renderer/components/SideBar/hooks/useUpdateHeader'\n \n \n let isFileChange = false\n-export const useConfig = (ctx: Ctx) => { \n+export const useConfig = (ctx: Ctx,file:{filePath:string,content:string}) => { \n   ctx\n     .get(listenerCtx)\n     .beforeMount((ctx) => {\n       console.log('before the editor mounts')\n"
                },
                {
                    "date": 1666000485535,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,8 +25,9 @@\n     })\n     .blur((ctx) => {\n       if(isFileChange) {\n         console.log('update-file')\n+        window.api.updateFile({filePath,newFileContent:})\n       }\n       console.log(' editor loses focus')\n     })\n     .focus((ctx) => {\n"
                },
                {
                    "date": 1666012355674,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n     })\n     .blur((ctx) => {\n       if(isFileChange) {\n         console.log('update-file')\n-        window.api.updateFile({filePath,newFileContent:})\n+        window.api.updateFile({filePath:file.content,newFileContent:file.content})\n       }\n       console.log(' editor loses focus')\n     })\n     .focus((ctx) => {\n"
                },
                {
                    "date": 1666012441726,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,10 +3,9 @@\n import { Ctx } from '@milkdown/core'\n import { useUpdateHeaders } from '@renderer/components/SideBar/hooks/useUpdateHeader'\n \n \n-let isFileChange = false\n-export const useConfig = (ctx: Ctx,file:{filePath:string,content:string}) => { \n+export const useConfig = (ctx: Ctx, file: { filePath: string; content: string }) => {\n   ctx\n     .get(listenerCtx)\n     .beforeMount((ctx) => {\n       console.log('before the editor mounts')\n@@ -23,12 +22,11 @@\n       useUpdateHeaders()\n       // useDebounce(nofifyUpdateFile('',markdown),1000)\n     })\n     .blur((ctx) => {\n-      if(isFileChange) {\n         console.log('update-file')\n-        window.api.updateFile({filePath:file.content,newFileContent:file.content})\n-      }\n+        window.api.updateFile({ filePath: file.content, newFileContent: file.content })\n+      \n       console.log(' editor loses focus')\n     })\n     .focus((ctx) => {\n       // console.log(' when focus editor')\n"
                },
                {
                    "date": 1666012452461,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,9 +2,9 @@\n \n import { Ctx } from '@milkdown/core'\n import { useUpdateHeaders } from '@renderer/components/SideBar/hooks/useUpdateHeader'\n \n-\n+let isFileChange = false\n export const useConfig = (ctx: Ctx, file: { filePath: string; content: string }) => {\n   ctx\n     .get(listenerCtx)\n     .beforeMount((ctx) => {\n@@ -22,11 +22,12 @@\n       useUpdateHeaders()\n       // useDebounce(nofifyUpdateFile('',markdown),1000)\n     })\n     .blur((ctx) => {\n+      if (isFileChange) {\n         console.log('update-file')\n         window.api.updateFile({ filePath: file.content, newFileContent: file.content })\n-      \n+      }\n       console.log(' editor loses focus')\n     })\n     .focus((ctx) => {\n       // console.log(' when focus editor')\n"
                },
                {
                    "date": 1666012644014,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,9 @@\n     .mounted((ctx) => {\n       console.log('after the editor mounts')\n     })\n     .updated((ctx, doc, prevDoc) => {\n-      isFileChange = true\n+      // isFileChange = true\n       console.log('when editor state updates')\n     })\n     .markdownUpdated((ctx, markdown, prevMarkdown) => {\n       console.log('when markdown updates')\n"
                },
                {
                    "date": 1666012742721,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,9 @@\n     .mounted((ctx) => {\n       console.log('after the editor mounts')\n     })\n     .updated((ctx, doc, prevDoc) => {\n-      // isFileChange = true\n+      isFileChange = true\n       console.log('when editor state updates')\n     })\n     .markdownUpdated((ctx, markdown, prevMarkdown) => {\n       console.log('when markdown updates')\n"
                },
                {
                    "date": 1666012855088,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,8 +25,9 @@\n     .blur((ctx) => {\n       if (isFileChange) {\n         console.log('update-file')\n         window.api.updateFile({ filePath: file.content, newFileContent: file.content })\n+        isFileChange = false\n       }\n       console.log(' editor loses focus')\n     })\n     .focus((ctx) => {\n"
                },
                {
                    "date": 1666012998309,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,8 @@\n       // useDebounce(nofifyUpdateFile('',markdown),1000)\n     })\n     .blur((ctx) => {\n       if (isFileChange) {\n-        console.log('update-file')\n         window.api.updateFile({ filePath: file.content, newFileContent: file.content })\n         isFileChange = false\n       }\n       console.log(' editor loses focus')\n"
                },
                {
                    "date": 1666013067528,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,8 +22,9 @@\n       useUpdateHeaders()\n       // useDebounce(nofifyUpdateFile('',markdown),1000)\n     })\n     .blur((ctx) => {\n+      console.log(isFileChange)\n       if (isFileChange) {\n         window.api.updateFile({ filePath: file.content, newFileContent: file.content })\n         isFileChange = false\n       }\n"
                },
                {
                    "date": 1666013289901,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,9 @@\n     })\n     .blur((ctx) => {\n       console.log(isFileChange)\n       if (isFileChange) {\n-        window.api.updateFile({ filePath: file.content, newFileContent: file.content })\n+        window.api.updateFile({ filePath: file.filePath, newFileContent: file.content })\n         isFileChange = false\n       }\n       console.log(' editor loses focus')\n     })\n"
                },
                {
                    "date": 1666013357051,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,8 @@\n       useUpdateHeaders()\n       // useDebounce(nofifyUpdateFile('',markdown),1000)\n     })\n     .blur((ctx) => {\n-      console.log(isFileChange)\n       if (isFileChange) {\n         window.api.updateFile({ filePath: file.filePath, newFileContent: file.content })\n         isFileChange = false\n       }\n"
                },
                {
                    "date": 1666013800028,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,11 @@\n       // useDebounce(nofifyUpdateFile('',markdown),1000)\n     })\n     .blur((ctx) => {\n       if (isFileChange) {\n-        window.api.updateFile({ filePath: file.filePath, newFileContent: file.content })\n+        console.log(file.content)\n+        console.log(file.filePath)\n+        // window.api.updateFile({ filePath: file.filePath, newFileContent: file.content })\n         isFileChange = false\n       }\n       console.log(' editor loses focus')\n     })\n"
                },
                {
                    "date": 1666018016601,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,40 +1,41 @@\n+import { defaultValueCtx, Editor, rootCtx } from '@milkdown/core'\n import { listenerCtx } from '@milkdown/plugin-listener'\n-\n-import { Ctx } from '@milkdown/core'\n import { useUpdateHeaders } from '@renderer/components/SideBar/hooks/useUpdateHeader'\n \n-let isFileChange = false\n-export const useConfig = (ctx: Ctx, file: { filePath: string; content: string }) => {\n-  ctx\n-    .get(listenerCtx)\n-    .beforeMount((ctx) => {\n-      console.log('before the editor mounts')\n+export const useConfig = (editor: Editor, root: HTMLElement) => {\n+  editor\n+    .config((ctx) => {\n+      ctx.set(rootCtx, root)\n     })\n-    .mounted((ctx) => {\n-      console.log('after the editor mounts')\n+    // 默认值\n+    .config((ctx) => {\n+      ctx.set(defaultValueCtx, '')\n     })\n-    .updated((ctx, doc, prevDoc) => {\n-      isFileChange = true\n-      console.log('when editor state updates')\n+    // 生命周期\n+    .config((ctx) => {\n+      ctx\n+        .get(listenerCtx)\n+        .beforeMount(() => {\n+          console.log('before the editor mounts')\n+        })\n+        .mounted(() => {\n+          console.log('after the editor mounts')\n+        })\n+        .updated(() => {\n+          console.log('when editor state updates')\n+        })\n+        .markdownUpdated(() => {\n+          console.log('when markdown updates')\n+          useUpdateHeaders()\n+        })\n+        .blur(() => {\n+        //   window.api.updateFile({ filePath, newFileContent:content })\n+        })\n+        .focus(() => {\n+          console.log(' when focus editor')\n+        })\n+        .destroy(() => {\n+          console.log('when editor is being destroyed')\n+        })\n     })\n-    .markdownUpdated((ctx, markdown, prevMarkdown) => {\n-      console.log('when markdown updates')\n-      useUpdateHeaders()\n-      // useDebounce(nofifyUpdateFile('',markdown),1000)\n-    })\n-    .blur((ctx) => {\n-      if (isFileChange) {\n-        console.log(file.content)\n-        console.log(file.filePath)\n-        // window.api.updateFile({ filePath: file.filePath, newFileContent: file.content })\n-        isFileChange = false\n-      }\n-      console.log(' editor loses focus')\n-    })\n-    .focus((ctx) => {\n-      // console.log(' when focus editor')\n-    })\n-    .destroy((ctx) => {\n-      console.log('when editor is being destroyed')\n-    })\n }\n"
                },
                {
                    "date": 1666057391784,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n           console.log('when editor state updates')\n         })\n         .markdownUpdated(() => {\n           console.log('when markdown updates')\n-          useUpdateHeaders()\n+          // useUpdateHeaders()\n         })\n         .blur(() => {\n         //   window.api.updateFile({ filePath, newFileContent:content })\n         })\n"
                },
                {
                    "date": 1666057444119,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n           console.log('when editor state updates')\n         })\n         .markdownUpdated(() => {\n           console.log('when markdown updates')\n-          // useUpdateHeaders()\n+          useUpdateHeaders()\n         })\n         .blur(() => {\n         //   window.api.updateFile({ filePath, newFileContent:content })\n         })\n"
                },
                {
                    "date": 1666057477252,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n           console.log('when editor state updates')\n         })\n         .markdownUpdated(() => {\n           console.log('when markdown updates')\n-          useUpdateHeaders()\n+          // useUpdateHeaders()\n         })\n         .blur(() => {\n         //   window.api.updateFile({ filePath, newFileContent:content })\n         })\n"
                },
                {
                    "date": 1666057571166,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n           console.log('when editor state updates')\n         })\n         .markdownUpdated(() => {\n           console.log('when markdown updates')\n-          // useUpdateHeaders()\n+          useUpdateHeaders()\n         })\n         .blur(() => {\n         //   window.api.updateFile({ filePath, newFileContent:content })\n         })\n"
                },
                {
                    "date": 1666057612087,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,10 @@\n           console.log('when editor state updates')\n         })\n         .markdownUpdated(() => {\n           console.log('when markdown updates')\n-          useUpdateHeaders()\n+          console.log(document.querySelector('h1'))\n+          // useUpdateHeaders()\n         })\n         .blur(() => {\n         //   window.api.updateFile({ filePath, newFileContent:content })\n         })\n"
                },
                {
                    "date": 1666057679809,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n         })\n         .markdownUpdated(() => {\n           console.log('when markdown updates')\n           console.log(document.querySelector('h1'))\n-          // useUpdateHeaders()\n+          useUpdateHeaders()\n         })\n         .blur(() => {\n         //   window.api.updateFile({ filePath, newFileContent:content })\n         })\n"
                },
                {
                    "date": 1666058444104,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n         })\n         .markdownUpdated(() => {\n           console.log('when markdown updates')\n           console.log(document.querySelector('h1'))\n-          useUpdateHeaders()\n+          // useUpdateHeaders()\n         })\n         .blur(() => {\n         //   window.api.updateFile({ filePath, newFileContent:content })\n         })\n"
                },
                {
                    "date": 1666058518471,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,8 +23,9 @@\n         })\n         .updated(() => {\n           console.log('when editor state updates')\n         })\n+        // 点击文件列表后会两次调用，导致第一次渲染标题的时候还是旧的\n         .markdownUpdated(() => {\n           console.log('when markdown updates')\n           console.log(document.querySelector('h1'))\n           // useUpdateHeaders()\n"
                },
                {
                    "date": 1666059516738,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,8 +30,9 @@\n           console.log(document.querySelector('h1'))\n           // useUpdateHeaders()\n         })\n         .blur(() => {\n+          console.log('blur editor')\n         //   window.api.updateFile({ filePath, newFileContent:content })\n         })\n         .focus(() => {\n           console.log(' when focus editor')\n"
                },
                {
                    "date": 1666066788859,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,10 +26,8 @@\n         })\n         // 点击文件列表后会两次调用，导致第一次渲染标题的时候还是旧的\n         .markdownUpdated(() => {\n           console.log('when markdown updates')\n-          console.log(document.querySelector('h1'))\n-          // useUpdateHeaders()\n         })\n         .blur(() => {\n           console.log('blur editor')\n         //   window.api.updateFile({ filePath, newFileContent:content })\n"
                },
                {
                    "date": 1666083051009,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,6 @@\n import { defaultValueCtx, Editor, rootCtx } from '@milkdown/core'\n import { listenerCtx } from '@milkdown/plugin-listener'\n-import { useUpdateHeaders } from '@renderer/components/SideBar/hooks/useUpdateHeader'\n \n export const useConfig = (editor: Editor, root: HTMLElement) => {\n   editor\n     .config((ctx) => {\n@@ -11,32 +10,32 @@\n     .config((ctx) => {\n       ctx.set(defaultValueCtx, '')\n     })\n     // 生命周期\n-    .config((ctx) => {\n-      ctx\n-        .get(listenerCtx)\n-        .beforeMount(() => {\n-          console.log('before the editor mounts')\n-        })\n-        .mounted(() => {\n-          console.log('after the editor mounts')\n-        })\n-        .updated(() => {\n-          console.log('when editor state updates')\n-        })\n-        // 点击文件列表后会两次调用，导致第一次渲染标题的时候还是旧的\n-        .markdownUpdated(() => {\n-          console.log('when markdown updates')\n-        })\n-        .blur(() => {\n-          console.log('blur editor')\n-        //   window.api.updateFile({ filePath, newFileContent:content })\n-        })\n-        .focus(() => {\n-          console.log(' when focus editor')\n-        })\n-        .destroy(() => {\n-          console.log('when editor is being destroyed')\n-        })\n-    })\n+    // .config((ctx) => {\n+    //   ctx\n+    //     .get(listenerCtx)\n+    //     .beforeMount(() => {\n+    //       console.log('before the editor mounts')\n+    //     })\n+    //     .mounted(() => {\n+    //       console.log('after the editor mounts')\n+    //     })\n+    //     .updated(() => {\n+    //       console.log('when editor state updates')\n+    //     })\n+    //     // 点击文件列表后会两次调用，导致第一次渲染标题的时候还是旧的\n+    //     .markdownUpdated(() => {\n+    //       console.log('when markdown updates')\n+    //     })\n+    //     .blur(() => {\n+    //       console.log('blur editor')\n+    //     //   window.api.updateFile({ filePath, newFileContent:content })\n+    //     })\n+    //     .focus(() => {\n+    //       console.log(' when focus editor')\n+    //     })\n+    //     .destroy(() => {\n+    //       console.log('when editor is being destroyed')\n+    //     })\n+    // })\n }\n"
                },
                {
                    "date": 1666083980716,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,32 +10,32 @@\n     .config((ctx) => {\n       ctx.set(defaultValueCtx, '')\n     })\n     // 生命周期\n-    // .config((ctx) => {\n-    //   ctx\n-    //     .get(listenerCtx)\n-    //     .beforeMount(() => {\n-    //       console.log('before the editor mounts')\n-    //     })\n-    //     .mounted(() => {\n-    //       console.log('after the editor mounts')\n-    //     })\n-    //     .updated(() => {\n-    //       console.log('when editor state updates')\n-    //     })\n-    //     // 点击文件列表后会两次调用，导致第一次渲染标题的时候还是旧的\n-    //     .markdownUpdated(() => {\n-    //       console.log('when markdown updates')\n-    //     })\n-    //     .blur(() => {\n-    //       console.log('blur editor')\n-    //     //   window.api.updateFile({ filePath, newFileContent:content })\n-    //     })\n-    //     .focus(() => {\n-    //       console.log(' when focus editor')\n-    //     })\n-    //     .destroy(() => {\n-    //       console.log('when editor is being destroyed')\n-    //     })\n-    // })\n+    .config((ctx) => {\n+      ctx\n+        .get(listenerCtx)\n+        .beforeMount(() => {\n+          console.log('before the editor mounts')\n+        })\n+        .mounted(() => {\n+          console.log('after the editor mounts')\n+        })\n+        .updated(() => {\n+          console.log('when editor state updates')\n+        })\n+        // 点击文件列表后会两次调用，导致第一次渲染标题的时候还是旧的\n+        .markdownUpdated(() => {\n+          console.log('when markdown updates')\n+        })\n+        .blur(() => {\n+          console.log('blur editor')\n+        //   window.api.updateFile({ filePath, newFileContent:content })\n+        })\n+        .focus(() => {\n+          console.log(' when focus editor')\n+        })\n+        .destroy(() => {\n+          console.log('when editor is being destroyed')\n+        })\n+    })\n }\n"
                },
                {
                    "date": 1666083993406,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,8 @@\n           console.log('when markdown updates')\n         })\n         .blur(() => {\n           console.log('blur editor')\n-        //   window.api.updateFile({ filePath, newFileContent:content })\n         })\n         .focus(() => {\n           console.log(' when focus editor')\n         })\n"
                },
                {
                    "date": 1666084109431,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n-import { defaultValueCtx, Editor, rootCtx } from '@milkdown/core'\n+import { defaultValueCtx, Editor, rootCtx, themeManagerCtx } from '@milkdown/core'\n import { listenerCtx } from '@milkdown/plugin-listener'\n+import { nordDark } from '@milkdown/theme-nord'\n \n export const useConfig = (editor: Editor, root: HTMLElement) => {\n   editor\n     .config((ctx) => {\n@@ -36,5 +37,8 @@\n         .destroy(() => {\n           console.log('when editor is being destroyed')\n         })\n     })\n+    editor.action(ctx=>{\n+      ctx.get(themeManagerCtx).switch(ctx, nordDark)\n+    })\n }\n"
                },
                {
                    "date": 1666084140902,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,6 @@\n-import { defaultValueCtx, Editor, rootCtx, themeManagerCtx } from '@milkdown/core'\n+import { defaultValueCtx, Editor, rootCtx } from '@milkdown/core'\n import { listenerCtx } from '@milkdown/plugin-listener'\n-import { nordDark } from '@milkdown/theme-nord'\n \n export const useConfig = (editor: Editor, root: HTMLElement) => {\n   editor\n     .config((ctx) => {\n@@ -37,8 +36,5 @@\n         .destroy(() => {\n           console.log('when editor is being destroyed')\n         })\n     })\n-    editor.action(ctx=>{\n-      ctx.get(themeManagerCtx).switch(ctx, nordDark)\n-    })\n }\n"
                },
                {
                    "date": 1666084417890,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,5 +36,6 @@\n         .destroy(() => {\n           console.log('when editor is being destroyed')\n         })\n     })\n+    editor.ac\n }\n"
                },
                {
                    "date": 1666105936882,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,9 @@\n import { defaultValueCtx, Editor, rootCtx } from '@milkdown/core'\n import { listenerCtx } from '@milkdown/plugin-listener'\n+import { replaceAll,getMarkdown } from '@milkdown/utils'\n \n+\n export const useConfig = (editor: Editor, root: HTMLElement) => {\n   editor\n     .config((ctx) => {\n       ctx.set(rootCtx, root)\n@@ -36,6 +38,6 @@\n         .destroy(() => {\n           console.log('when editor is being destroyed')\n         })\n     })\n-    editor.ac\n+    .action(getMarkdown())\n }\n"
                },
                {
                    "date": 1666105964156,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,6 +38,8 @@\n         .destroy(() => {\n           console.log('when editor is being destroyed')\n         })\n     })\n-    .action(getMarkdown())\n+    .action(ctx =>{\n+      getMarkdown()\n+    })\n }\n"
                },
                {
                    "date": 1666105977782,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import { defaultValueCtx, Editor, rootCtx } from '@milkdown/core'\n import { listenerCtx } from '@milkdown/plugin-listener'\n-import { replaceAll,getMarkdown } from '@milkdown/utils'\n+import { getMarkdown } from '@milkdown/utils'\n \n \n export const useConfig = (editor: Editor, root: HTMLElement) => {\n   editor\n@@ -38,8 +38,8 @@\n         .destroy(() => {\n           console.log('when editor is being destroyed')\n         })\n     })\n-    .action(ctx =>{\n+    .action(\n       getMarkdown()\n-    })\n+    )\n }\n"
                },
                {
                    "date": 1666106037576,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,7 @@\n import { defaultValueCtx, Editor, rootCtx } from '@milkdown/core'\n import { listenerCtx } from '@milkdown/plugin-listener'\n-import { getMarkdown } from '@milkdown/utils'\n \n-\n export const useConfig = (editor: Editor, root: HTMLElement) => {\n   editor\n     .config((ctx) => {\n       ctx.set(rootCtx, root)\n@@ -38,8 +36,5 @@\n         .destroy(() => {\n           console.log('when editor is being destroyed')\n         })\n     })\n-    .action(\n-      getMarkdown()\n-    )\n }\n"
                },
                {
                    "date": 1666106493741,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n-import { defaultValueCtx, Editor, rootCtx } from '@milkdown/core'\n+import { defaultValueCtx, Editor, rootCtx, themeManagerCtx } from '@milkdown/core'\n import { listenerCtx } from '@milkdown/plugin-listener'\n+import { nordDark } from '@milkdown/theme-nord'\n \n export const useConfig = (editor: Editor, root: HTMLElement) => {\n   editor\n     .config((ctx) => {\n@@ -9,32 +10,35 @@\n     // 默认值\n     .config((ctx) => {\n       ctx.set(defaultValueCtx, '')\n     })\n+  editor.action(ctx=>{\n+    ctx.get(themeManagerCtx).switch(ctx, nordDark)\n+  })\n     // 生命周期\n-    .config((ctx) => {\n-      ctx\n-        .get(listenerCtx)\n-        .beforeMount(() => {\n-          console.log('before the editor mounts')\n-        })\n-        .mounted(() => {\n-          console.log('after the editor mounts')\n-        })\n-        .updated(() => {\n-          console.log('when editor state updates')\n-        })\n-        // 点击文件列表后会两次调用，导致第一次渲染标题的时候还是旧的\n-        .markdownUpdated(() => {\n-          console.log('when markdown updates')\n-        })\n-        .blur(() => {\n-          console.log('blur editor')\n-        })\n-        .focus(() => {\n-          console.log(' when focus editor')\n-        })\n-        .destroy(() => {\n-          console.log('when editor is being destroyed')\n-        })\n-    })\n+    // .config((ctx) => {\n+    //   ctx\n+    //     .get(listenerCtx)\n+    //     .beforeMount(() => {\n+    //       console.log('before the editor mounts')\n+    //     })\n+    //     .mounted(() => {\n+    //       console.log('after the editor mounts')\n+    //     })\n+    //     .updated(() => {\n+    //       console.log('when editor state updates')\n+    //     })\n+    //     // 点击文件列表后会两次调用，导致第一次渲染标题的时候还是旧的\n+    //     .markdownUpdated(() => {\n+    //       console.log('when markdown updates')\n+    //     })\n+    //     .blur(() => {\n+    //       console.log('blur editor')\n+    //     })\n+    //     .focus(() => {\n+    //       console.log(' when focus editor')\n+    //     })\n+    //     .destroy(() => {\n+    //       console.log('when editor is being destroyed')\n+    //     })\n+    // })\n }\n"
                },
                {
                    "date": 1666106535631,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,11 +10,8 @@\n     // 默认值\n     .config((ctx) => {\n       ctx.set(defaultValueCtx, '')\n     })\n-  editor.action(ctx=>{\n-    ctx.get(themeManagerCtx).switch(ctx, nordDark)\n-  })\n     // 生命周期\n     // .config((ctx) => {\n     //   ctx\n     //     .get(listenerCtx)\n"
                },
                {
                    "date": 1666141213495,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,31 +11,31 @@\n     .config((ctx) => {\n       ctx.set(defaultValueCtx, '')\n     })\n     // 生命周期\n-    // .config((ctx) => {\n-    //   ctx\n-    //     .get(listenerCtx)\n-    //     .beforeMount(() => {\n-    //       console.log('before the editor mounts')\n-    //     })\n-    //     .mounted(() => {\n-    //       console.log('after the editor mounts')\n-    //     })\n-    //     .updated(() => {\n-    //       console.log('when editor state updates')\n-    //     })\n-    //     // 点击文件列表后会两次调用，导致第一次渲染标题的时候还是旧的\n-    //     .markdownUpdated(() => {\n-    //       console.log('when markdown updates')\n-    //     })\n-    //     .blur(() => {\n-    //       console.log('blur editor')\n-    //     })\n-    //     .focus(() => {\n-    //       console.log(' when focus editor')\n-    //     })\n-    //     .destroy(() => {\n-    //       console.log('when editor is being destroyed')\n-    //     })\n-    // })\n+    .config((ctx) => {\n+      ctx\n+        .get(listenerCtx)\n+        .beforeMount(() => {\n+          console.log('before the editor mounts')\n+        })\n+        .mounted(() => {\n+          console.log('after the editor mounts')\n+        })\n+        .updated(() => {\n+          console.log('when editor state updates')\n+        })\n+        // 点击文件列表后会两次调用，导致第一次渲染标题的时候还是旧的\n+        .markdownUpdated(() => {\n+          console.log('when markdown updates')\n+        })\n+        .blur(() => {\n+          console.log('blur editor')\n+        })\n+        .focus(() => {\n+          console.log(' when focus editor')\n+        })\n+        .destroy(() => {\n+          console.log('when editor is being destroyed')\n+        })\n+    })\n }\n"
                },
                {
                    "date": 1666143197657,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,10 +24,11 @@\n         .updated(() => {\n           console.log('when editor state updates')\n         })\n         // 点击文件列表后会两次调用，导致第一次渲染标题的时候还是旧的\n-        .markdownUpdated(() => {\n+        .markdownUpdated((ctx,Markdown,preMarkdown) => {\n           console.log('when markdown updates')\n+          console.log(preMarkdown)\n         })\n         .blur(() => {\n           console.log('blur editor')\n         })\n"
                },
                {
                    "date": 1666143360930,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n         })\n         // 点击文件列表后会两次调用，导致第一次渲染标题的时候还是旧的\n         .markdownUpdated((ctx,Markdown,preMarkdown) => {\n           console.log('when markdown updates')\n-          console.log(preMarkdown)\n+          console.log(Markdown)\n         })\n         .blur(() => {\n           console.log('blur editor')\n         })\n"
                },
                {
                    "date": 1666143451177,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,10 +25,10 @@\n           console.log('when editor state updates')\n         })\n         // 点击文件列表后会两次调用，导致第一次渲染标题的时候还是旧的\n         .markdownUpdated((ctx,Markdown,preMarkdown) => {\n-          console.log('when markdown updates')\n-          console.log(Markdown)\n+          // console.log('when markdown updates')\n+          // console.log(Markdown)\n         })\n         .blur(() => {\n           console.log('blur editor')\n         })\n"
                }
            ],
            "date": 1665632485404,
            "name": "Commit-0",
            "content": "import { Ctx, Editor } from \"@milkdown/core\";\nimport { listenerCtx } from \"@milkdown/plugin-listener\";\n\nexport const conifgEdirot = (ctx:Ctx) => {\n    ctx.get(listenerCtx).markdownUpdated((ctx, markdown, prevMarkdown) => {\n        console.log(markdown)\n      })\n}"
        }
    ]
}